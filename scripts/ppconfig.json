{"name":"lundao","url":"http://59.153.165.226/","showName":"江湖论道","appid":"com.lundao.app","icon":"","iconRound":true,"state":true,"single":true,"injectJq":true,"tauriApi":false,"devbug":false,"version":"0.0.1","preview":"Android","platform":["1-1"],"width":412,"height":915,"desc":"","jsFile":[],"filterCss":"","customJs":"// ==UserScript==\n// @name         江湖论道2025年7月6日\n// @namespace    http://tampermonkey.net/\n// @version      dk3.0\n// @description  try to take over the world!\n// @author       苏小妹\n// @match        http://59.153.165.226/*\n// @icon         https://www.google.com/s2/favicons?sz=64&domain=119.19\n// @grant        none\n// ==/UserScript==\n\nsetTimeout(()=>{!function(a){function d(e){if(t[e])return t[e].exports;var n=t[e]={i:e,l:!1,exports:{}};return a[e].call(n.exports,n,n.exports,d),n.l=!0,n.exports}var t={};d.m=a,d.c=t,d.d=function(o,t,e){d.o(o,t)||Object.defineProperty(o,t,{enumerable:!0,get:e})},d.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},d.t=function(i,a){if(1&a&&(i=d(i)),8&a)return i;if(4&a&&\"object\"==typeof i&&i&&i.__esModule)return i;var e=Object.create(null);if(d.r(e),Object.defineProperty(e,\"default\",{enumerable:!0,value:i}),2&a&&\"string\"!=typeof i)for(var n in i)d.d(e,n,function(n){return i[n]}.bind(null,n));return e},d.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return d.d(t,\"a\",t),t},d.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},d.p=\"\",d(d.s=0)}([function(u,t,e){\"use strict\";async function i(a,t=0){await function(n=256){return new Promise(t=>{setTimeout(()=>{t(n)},n)})}(t);const e=$(a)[0].scrollTop,i=$(a)[0].scrollHeight,n=Math.ceil($(a).height());i-e>n&&$(a).stop().animate({scrollTop:i-n},\"normal\")}e.r(t);const m={yangzhou:\"jh fam 0 start\",dayuan:\"jh fam 0 1\",banghui:\"jh fam 0 2\",wumiao:\"jh fam 0 3\",qianzhuang:\"jh fam 0 4\",dangpu:\"jh fam 0 5\",yamen:\"jh fam 0 6\",yaopu:\"jh fam 0 7\",shuyuan:\"jh fam 0 8\",zuixianlou:\"jh fam 0 9\",zahuopu:\"jh fam 0 10\",datiepu:\"jh fam 0 11\",wuguan:\"jh fam 0 12\",wudang0:\"jh fam 1 start\",wudang1:\"jh fam 1 1\",shaolin0:\"jh fam 2 start\",shaolin1:\"jh fam 2 1\",huashan0:\"jh fam 3 start\",huashan1:\"jh fam 3 1\",emei0:\"jh fam 4 start\",emei1:\"jh fam 4 1\",xiaoyao0:\"jh fam 5 start\",xiaoyao1:\"jh fam 5 1\",gaibang0:\"jh fam 6 start\",gaibang1:\"jh fam 6 1\",xiangyang0:\"jh fam 7 start\",tiandao0:\"jh fam 8 start\",goeast:\"go east\",gowest:\"go west\",gonorth:\"go north\",gosouth:\"go south\",goeastup:\"go eastup\",gowestup:\"go westup\",gonorthup:\"go northup\",gosouthup:\"go southup\",gosouthwest:\"go southwest\",gosoutheast:\"go southeast\",gonorthwest:\"go northwest\",gonortheast:\"go northeast\",goup:\"go up\",godown:\"go down\",goenter:\"go enter\",stopstate:\"stopstate\",dazuo:\"dazuo\",liaoshang:\"liaoshang\",relive:\"relive\",relivelocal:\"relive locale\",breakbi:\"break bi\",opendoor:\"open door\",jumpdown:\"jump down\",cai:\"cai\",work:\"work\",list:\"list\",kaixi:\"kaixi\",score:\"score\",pack:\"pack\",cha:\"cha\",tasks:\"tasks\",zhuibu:\"zhuibu\",sellall:\"sell all\",baoming:\"baoming\",yjfenjie:\"yjfeijie\",give:\"give\",search:\"search\",dakai:\"dakai\",goautofuben:\"go_fuben -auto\",gumuenter:\"go_enter\",lookguanguo:\"look guanguo\",gumuover:\"go_fuben -over_bz\",buy:{\"<wht>包子<nor>\":\"jh fam 0 9\",\"<wht>米饭<nor>\":\"jh fam 0 9\",\"<wht>面条<nor>\":\"jh fam 0 9\",\"<wht>鸡腿<nor>\":\"jh fam 0 9\",\"<wht>米酒<nor>\":\"jh fam 0 9\",\"<wht>花雕酒<nor>\":\"jh fam 0 9\",\"<wht>扬州炒饭<nor>\":\"jh fam 0 9\",\"<wht>女儿红<nor>\":\"jh fam 0 9\",\"<hig>醉仙酿<nor>\":\"jh fam 0 9\",\"<hiy>神仙醉<nor>\":\"jh fam 0 9\",\"<wht>布鞋<nor>\":\"jh fam 0 10\",\"<wht>钢刀<nor>\":\"jh fam 0 10\",\"<wht>长鞭<nor>\":\"jh fam 0 10\",\"<wht>簪子<nor>\":\"jh fam 0 10\",\"<wht>铁戒指<nor>\":\"jh fam 0 10\",\"<wht>英雄巾<nor>\":\"jh fam 0 10\",\"<wht>布衣<nor>\":\"jh fam 0 10\",\"<wht>木棍<nor>\":\"jh fam 0 10\",\"<wht>钢刀<nor>\":\"jh fam 0 11\",\"<wht>铁杖<nor>\":\"jh fam 0 11\",\"<wht>铁棍<nor>\":\"jh fam 0 11\",\"<wht>铁剑<nor>\":\"jh fam 0 11\",\"<wht>钢针<nor>\":\"jh fam 0 11\",\"<hig>引气丹<nor>\":\"jh fam 0 7\",\"<hig>金创药<nor>\":\"jh fam 0 7\",\"<hig>养精丹<nor>\":\"jh fam 0 7\"},liandan:{\"<hig>突破丹<nor>\":\"lianyao /clone/medicine/medicine/lv2_tupodan\",\"<hig>凝神丹<nor>\":\"lianyao /clone/medicine/medicine/lv2_ningshendan\",\"<hig>生机丸<nor>\":\"lianyao /clone/medicine/medicine/lv2_shengjiwan\",\"<hig>破军丹<nor>\":\"lianyao /clone/medicine/medicine/lv2_pojundan\",\"<hig>无常丹<nor>\":\"lianyao /clone/medicine/medicine/lv2_wuchangdan\",\"<hig>归元散<nor>\":\"lianyao /clone/medicine/medicine/lv2_guiyuansan\",\"<hig>风神丹<nor>\":\"lianyao /clone/medicine/medicine/lv2_fengshendan\",\"<hig>造化丹<nor>\":\"lianyao /clone/medicine/medicine/lv2_zaohuadan\",\"<hig>大还丹<nor>\":\"lianyao /clone/medicine/medicine/lv2_dahuandan\",\"<hig>蕴象丸<nor>\":\"lianyao /clone/medicine/medicine/lv2_yunxiangwan\",\"<hig>玄灵丹<nor>\":\"lianyao /clone/medicine/medicine/lv2_xuanlingdan\",\"<hig>赤火丹<nor>\":\"lianyao /clone/medicine/medicine/lv2_chihuodan\",\"<hig>风行散<nor>\":\"lianyao /clone/medicine/medicine/lv2_fengxingsan\",\"<hig>风雷丹<nor>\":\"lianyao /clone/medicine/medicine/lv2_fengleidan\",\"<hig>冰心丹<nor>\":\"lianyao /clone/medicine/medicine/lv2_bingxindan\",\"<hig>玄冰丹<nor>\":\"lianyao /clone/medicine/medicine/lv2_xuanbingdan\",\"<hig>玄武丹<nor>\":\"lianyao /clone/medicine/medicine/lv2_xuanwudan\",\"<hig>大力丸<nor>\":\"lianyao /clone/medicine/medicine/lv2_daliwan\",\"<hig>风行丹<nor>\":\"lianyao /clone/medicine/medicine/lv2_fengxingdan\",\"<hig>归心散<nor>\":\"lianyao /clone/medicine/medicine/lv2_guixinsan\",\"<hig>石龟丹<nor>\":\"lianyao /clone/medicine/medicine/lv2_shiguidan\",\"<hig>清心丹<nor>\":\"lianyao /clone/medicine/medicine/lv2_qingxindan\",\"<hig>赤血丹<nor>\":\"lianyao /clone/medicine/medicine/lv2_chixuedan\",\"<hig>引气丹<nor>\":\"lianyao /clone/medicine/yinqidan2\",\"<hig>聚气丹<nor>\":\"lianyao /clone/medicine/juqidan2\",\"<hig>金创药<nor>\":\"lianyao /clone/medicine/jinchuangyao2\",\"<hic>突破丹<nor>\":\"lianyao /clone/medicine/medicine/lv3_tupodan\",\"<hic>凝神丹<nor>\":\"lianyao /clone/medicine/medicine/lv3_ningshendan\",\"<hic>生机丸<nor>\":\"lianyao /clone/medicine/medicine/lv3_shengjiwan\",\"<hic>破军丹<nor>\":\"lianyao /clone/medicine/medicine/lv3_pojundan\",\"<hic>无常丹<nor>\":\"lianyao /clone/medicine/medicine/lv3_wuchangdan\",\"<hic>归元散<nor>\":\"lianyao /clone/medicine/medicine/lv3_guiyuansan\",\"<hic>风神丹<nor>\":\"lianyao /clone/medicine/medicine/lv3_fengshendan\",\"<hic>造化丹<nor>\":\"lianyao /clone/medicine/medicine/lv3_zaohuadan\",\"<hic>大还丹<nor>\":\"lianyao /clone/medicine/medicine/lv3_dahuandan\",\"<hic>蕴象丸<nor>\":\"lianyao /clone/medicine/medicine/lv3_yunxiangwan\",\"<hic>玄灵丹<nor>\":\"lianyao /clone/medicine/medicine/lv3_xuanlingdan\",\"<hic>赤火丹<nor>\":\"lianyao /clone/medicine/medicine/lv3_chihuodan\",\"<hic>风行散<nor>\":\"lianyao /clone/medicine/medicine/lv3_fengxingsan\",\"<hic>风雷丹<nor>\":\"lianyao /clone/medicine/medicine/lv3_fengleidan\",\"<hic>冰心丹<nor>\":\"lianyao /clone/medicine/medicine/lv3_bingxindan\",\"<hic>玄冰丹<nor>\":\"lianyao /clone/medicine/medicine/lv3_xuanbingdan\",\"<hic>玄武丹<nor>\":\"lianyao /clone/medicine/medicine/lv3_xuanwudan\",\"<hic>大力丸<nor>\":\"lianyao /clone/medicine/medicine/lv3_daliwan\",\"<hic>风行丹<nor>\":\"lianyao /clone/medicine/medicine/lv3_fengxingdan\",\"<hic>归心散<nor>\":\"lianyao /clone/medicine/medicine/lv3_guixinsan\",\"<hic>石龟丹<nor>\":\"lianyao /clone/medicine/medicine/lv3_shiguidan\",\"<hic>清心丹<nor>\":\"lianyao /clone/medicine/medicine/lv3_qingxindan\",\"<hic>赤血丹<nor>\":\"lianyao /clone/medicine/medicine/lv3_chixuedan\",\"<hic>引气丹<nor>\":\"lianyao /clone/medicine/yinqidan3\",\"<hic>聚气丹<nor>\":\"lianyao /clone/medicine/juqidan3\",\"<hic>金创药<nor>\":\"lianyao /clone/medicine/jinchuangyao3\",\"<hiy>突破丹<nor>\":\"lianyao /clone/medicine/medicine/lv4_tupodan\",\"<hiy>凝神丹<nor>\":\"lianyao /clone/medicine/medicine/lv4_ningshendan\",\"<hiy>生机丸<nor>\":\"lianyao /clone/medicine/medicine/lv4_shengjiwan\",\"<hiy>破军丹<nor>\":\"lianyao /clone/medicine/medicine/lv4_pojundan\",\"<hiy>无常丹<nor>\":\"lianyao /clone/medicine/medicine/lv4_wuchangdan\",\"<hiy>归元散<nor>\":\"lianyao /clone/medicine/medicine/lv4_guiyuansan\",\"<hiy>风神丹<nor>\":\"lianyao /clone/medicine/medicine/lv4_fengshendan\",\"<hiy>造化丹<nor>\":\"lianyao /clone/medicine/medicine/lv4_zaohuadan\",\"<hiy>大还丹<nor>\":\"lianyao /clone/medicine/medicine/lv4_dahuandan\",\"<hiy>蕴象丸<nor>\":\"lianyao /clone/medicine/medicine/lv4_yunxiangwan\",\"<hiy>玄灵丹<nor>\":\"lianyao /clone/medicine/medicine/lv4_xuanlingdan\",\"<hiy>赤火丹<nor>\":\"lianyao /clone/medicine/medicine/lv4_chihuodan\",\"<hiy>风行散<nor>\":\"lianyao /clone/medicine/medicine/lv4_fengxingsan\",\"<hiy>风雷丹<nor>\":\"lianyao /clone/medicine/medicine/lv4_fengleidan\",\"<hiy>冰心丹<nor>\":\"lianyao /clone/medicine/medicine/lv4_bingxindan\",\"<hiy>玄冰丹<nor>\":\"lianyao /clone/medicine/medicine/lv4_xuanbingdan\",\"<hiy>玄武丹<nor>\":\"lianyao /clone/medicine/medicine/lv4_xuanwudan\",\"<hiy>大力丸<nor>\":\"lianyao /clone/medicine/medicine/lv4_daliwan\",\"<hiy>风行丹<nor>\":\"lianyao /clone/medicine/medicine/lv4_fengxingdan\",\"<hiy>归心散<nor>\":\"lianyao /clone/medicine/medicine/lv4_guixinsan\",\"<hiy>石龟丹<nor>\":\"lianyao /clone/medicine/medicine/lv4_shiguidan\",\"<hiy>清心丹<nor>\":\"lianyao /clone/medicine/medicine/lv4_qingxindan\",\"<hiy>赤血丹<nor>\":\"lianyao /clone/medicine/medicine/lv4_chixuedan\",\"<hiy>引气丹<nor>\":\"lianyao /clone/medicine/yinqidan4\",\"<hiy>聚气丹<nor>\":\"lianyao /clone/medicine/juqidan4\",\"<hiy>金创药<nor>\":\"lianyao /clone/medicine/jinchuangyao4\",\"<hiz>突破丹<nor>\":\"lianyao /clone/medicine/medicine/lv5_tupodan\",\"<hiz>凝神丹<nor>\":\"lianyao /clone/medicine/medicine/lv5_ningshendan\",\"<hiz>生机丸<nor>\":\"lianyao /clone/medicine/medicine/lv5_shengjiwan\",\"<hiz>破军丹<nor>\":\"lianyao /clone/medicine/medicine/lv5_pojundan\",\"<hiz>无常丹<nor>\":\"lianyao /clone/medicine/medicine/lv5_wuchangdan\",\"<hiz>归元散<nor>\":\"lianyao /clone/medicine/medicine/lv5_guiyuansan\",\"<hiz>风神丹<nor>\":\"lianyao /clone/medicine/medicine/lv5_fengshendan\",\"<hiz>造化丹<nor>\":\"lianyao /clone/medicine/medicine/lv5_zaohuadan\",\"<hiz>大还丹<nor>\":\"lianyao /clone/medicine/medicine/lv5_dahuandan\",\"<hiz>蕴象丸<nor>\":\"lianyao /clone/medicine/medicine/lv5_yunxiangwan\",\"<hiz>玄灵丹<nor>\":\"lianyao /clone/medicine/medicine/lv5_xuanlingdan\",\"<hiz>赤火丹<nor>\":\"lianyao /clone/medicine/medicine/lv5_chihuodan\",\"<hiz>风行散<nor>\":\"lianyao /clone/medicine/medicine/lv5_fengxingsan\",\"<hiz>风雷丹<nor>\":\"lianyao /clone/medicine/medicine/lv5_fengleidan\",\"<hiz>冰心丹<nor>\":\"lianyao /clone/medicine/medicine/lv5_bingxindan\",\"<hiz>玄冰丹<nor>\":\"lianyao /clone/medicine/medicine/lv5_xuanbingdan\",\"<hiz>玄武丹<nor>\":\"lianyao /clone/medicine/medicine/lv5_xuanwudan\",\"<hiz>大力丸<nor>\":\"lianyao /clone/medicine/medicine/lv5_daliwan\",\"<hiz>风行丹<nor>\":\"lianyao /clone/medicine/medicine/lv5_fengxingdan\",\"<hiz>归心散<nor>\":\"lianyao /clone/medicine/medicine/lv5_guixinsan\",\"<hiz>石龟丹<nor>\":\"lianyao /clone/medicine/medicine/lv5_shiguidan\",\"<hiz>清心丹<nor>\":\"lianyao /clone/medicine/medicine/lv5_qingxindan\",\"<hiz>赤血丹<nor>\":\"lianyao /clone/medicine/medicine/lv5_chixuedan\",\"<hiz>引气丹<nor>\":\"lianyao /clone/medicine/yinqidan5\",\"<hiz>聚气丹<nor>\":\"lianyao /clone/medicine/juqidan5\",\"<hiz>金创药<nor>\":\"lianyao /clone/medicine/jinchuangyao5\"}},h={武当:{首席:[m.wudang1],武当广场:[m.wudang0],三清殿:[m.wudang0,m.gonorth],石阶:[m.wudang0,m.gowest],练功房:[m.wudang0,m.gowest,m.gowest],太子岩:[m.wudang1],桃园小路:[m.wudang1,m.gonorth],舍身崖:[m.wudang1,m.gonorth,m.goeast],南岩峰:[m.wudang1,m.gonorth,m.gowest],乌鸦岭:[m.wudang1,m.gonorth,m.gowest,m.gonorthup],三老峰:[m.wudang1,m.gonorth,m.gowest,m.gonorthup,m.gonorthup],五老峰:[m.wudang1,m.gonorth,m.gowest,m.gonorthup,m.gonorthup,m.gonorthup],虎头岩:[m.wudang1,m.gonorth,m.gowest,m.gonorthup,m.gonorthup,m.gonorthup,m.gonorthup],朝天宫:[m.wudang1,m.gonorth,m.gowest,m.gonorthup,m.gonorthup,m.gonorthup,m.gonorthup,m.gonorth],三天门:[m.wudang1,m.gonorth,m.gowest,m.gonorthup,m.gonorthup,m.gonorthup,m.gonorthup,m.gonorth,m.gonorth],十二莲台:[m.wudang1,m.gonorth,m.gowest,m.gonorthup,m.gonorthup,m.gonorthup,m.gonorthup,m.gonorth,m.gonorth,m.gonorth],茶室:[m.wudang1,m.gonorth,m.gowest,m.gonorthup,m.gonorthup,m.gonorthup,m.gonorthup,m.gonorth,m.gonorth,m.gonorth,m.goeast],紫金城:[m.wudang1,m.gonorth,m.gowest,m.gonorthup,m.gonorthup,m.gonorthup,m.gonorthup,m.gonorth,m.gonorth,m.gonorth,m.gonorth],林间小径1:[m.wudang1,m.gonorth,m.gowest,m.gonorthup,m.gonorthup,m.gonorthup,m.gonorthup,m.gonorth,m.gonorth,m.gonorth,m.gonorth,m.gonorth],林间小径2:[m.wudang1,m.gonorth,m.gowest,m.gonorthup,m.gonorthup,m.gonorthup,m.gonorthup,m.gonorth,m.gonorth,m.gonorth,m.gonorth,m.gonorth,m.gonorth],金殿:[m.wudang1,m.gonorth,m.gowest,m.gonorthup,m.gonorthup,m.gonorthup,m.gonorthup,m.gonorth,m.gonorth,m.gonorth,m.gonorth,m.gonorth,m.gonorth,m.opendoor,m.gonorth],林间小径:[m.wudang1,m.gonorth,m.gowest,m.gonorthup,m.gonorthup,m.gonorthup,m.gonorthup,m.gonorth,m.gonorth,m.gonorth,m.gonorth,m.gonorth,m.gonorth]},少林:{首席:[m.shaolin1],广场1:[m.shaolin0],山门殿:[m.shaolin0,m.gonorth],西侧殿1:[m.shaolin0,m.gonorth,m.gowest],东侧殿1:[m.shaolin0,m.gonorth,m.goeast],台阶:[m.shaolin0,m.gonorth,m.gonorth],西碑林:[m.shaolin0,m.gonorth,m.gonorth,m.gowest],东碑林:[m.shaolin0,m.gonorth,m.gonorth,m.goeast],天王殿:[m.shaolin0,m.gonorth,m.gonorth,m.gonorthup],西侧殿2:[m.shaolin0,m.gonorth,m.gonorth,m.gonorthup,m.gowest],东侧殿2:[m.shaolin0,m.gonorth,m.gonorth,m.gonorthup,m.goeast],广场2:[m.shaolin1,m.gosouth,m.gosouthwest,m.goeast],大雄宝殿:[m.shaolin1,m.gosouth,m.gosouthwest,m.goeast,m.gonorthup],鼓楼小院:[m.shaolin1,m.gosouth,m.gosouthwest],钟楼小院:[m.shaolin1,m.gosouth,m.gosoutheast],后殿:[m.shaolin1,m.gosouth],练武场1:[m.shaolin1],般若堂:[m.shaolin1,m.gowest],罗汉堂:[m.shaolin1,m.goeast],方丈楼:[m.shaolin1,m.gonorth],练武场2:[m.shaolin1,m.gonorth,m.gonorth],达摩院:[m.shaolin1,m.gonorth,m.gonorth,m.gonorthup],广场3:[m.shaolin1,m.gonorth,m.gonorth,m.gonorthup,m.gonorth],地藏殿:[m.shaolin1,m.gonorth,m.gonorth,m.gonorthup,m.gonorth,m.gowest],白衣殿:[m.shaolin1,m.gonorth,m.gonorth,m.gonorthup,m.gonorth,m.goeast],千佛殿:[m.shaolin1,m.gonorth,m.gonorth,m.gonorthup,m.gonorth,m.gonorthup],竹林1:[m.shaolin1,m.gonorth,m.gonorth,m.gonorthup,m.gonorth,m.gonorthup,m.gonorth],竹林2:[m.shaolin1,m.gonorth,m.gonorth,m.gonorthup,m.gonorth,m.gonorthup,m.gonorth,m.gonorth],达摩洞:[m.shaolin1,m.gonorth,m.gonorth,m.gonorthup,m.gonorth,m.gonorthup,m.gonorth,m.gonorth,m.gonorth],广场:[m.shaolin0,m.shaolin1,m.gosouth,m.gosouthwest,m.goeast,m.shaolin1,m.gonorth,m.gonorth,m.gonorthup,m.gonorth],西侧殿:[m.shaolin0,m.gonorth,m.gowest,m.goeast,m.gonorth,m.gonorthup,m.gowest],东侧殿:[m.shaolin0,m.gonorth,m.goeast,m.gowest,m.gonorth,m.gonorthup,m.goeast],练武场:[m.shaolin1,m.gonorth,m.gonorth],竹林:[m.shaolin1,m.gonorth,m.gonorth,m.gonorthup,m.gonorth,m.gonorthup,m.gonorth,m.gonorth]},华山:{首席:[m.huashan1],镇岳宫:[m.huashan0],苍龙岭:[m.huashan0,m.goeastup],舍身崖:[m.huashan0,m.goeastup,m.gosouthup],崖底:[m.huashan0,m.goeastup,m.gosouthup,m.jumpdown],练武场:[m.huashan1],客厅:[m.huashan1,m.gonorth],寝室:[m.huashan1,m.gonorth,m.gonorth],山顶小店:[m.huashan1,m.gowest],兵器房:[m.huashan1,m.goeast],练功房:[m.huashan1,m.goeast,m.goeast],玉女峰:[m.huashan1,m.gosouth],玉女祠:[m.huashan1,m.gosouth,m.gowest],玉女蜂山路:[m.huashan1,m.gosouth,m.gosouth],玉女蜂小径:[m.huashan1,m.gosouth,m.gosouth,m.gosouthup],思过崖:[m.huashan1,m.gosouth,m.gosouth,m.gosouthup,m.gosouthup],后山:[m.huashan1,m.gosouth,m.gosouth,m.gosouthup,m.gosouthup,m.breakbi,m.goenter]},峨嵋:{首席:[m.emei1],广场:[m.emei0],庙门:[m.emei0,m.gonorth],金顶:[m.emei0,m.gonorth,m.goeast],睹光台:[m.emei0,m.gonorth,m.goeast,m.gonorthup],华藏庵:[m.emei0,m.gonorth,m.goeast,m.gonorthup,m.goeast],大殿:[m.emei0,m.gosouth],走廊1:[m.emei0,m.goeast],走廊2:[m.emei0,m.goeast,m.goeast],厨房:[m.emei0,m.goeast,m.goeast,m.gonorth],走廊3:[m.emei0,m.gowest],练功房:[m.emei0,m.gowest,m.gowest],走廊4:[m.emei0,m.gowest,m.gonorth],茅草屋:[m.emei0,m.gowest,m.gonorth,m.gonorth],走廊5:[m.emei0,m.gowest,m.gosouth],走廊6:[m.emei0,m.gowest,m.gosouth,m.gowest],清修洞:[m.emei0,m.gowest,m.gosouth,m.gowest,m.gosouth],走廊:[m.emei0,m.goeast,m.goeast,m.emei0,m.gowest,m.gonorth,m.emei0,m.gowest,m.gosouth,m.gowest]},逍遥:{首席:[m.xiaoyao1],青草坪:[m.xiaoyao0],地下石室1:[m.xiaoyao0,m.godown],地下石室2:[m.xiaoyao0,m.godown,m.godown],林间小道1:[m.xiaoyao1],林间小道2:[m.xiaoyao1,m.gowest],小屋:[m.xiaoyao1,m.gowest,m.gowest],打铁屋:[m.xiaoyao1,m.gowest,m.gonorth],酒家:[m.xiaoyao1,m.gowest,m.gosouth],林间小道3:[m.xiaoyao0,m.gosouth],木屋:[m.xiaoyao0,m.gosouth,m.gosouth],林间小道4:[m.xiaoyao0,m.gonorth],小木屋:[m.xiaoyao0,m.gonorth,m.gonorth],林间小道5:[m.xiaoyao0,m.goeast],石屋:[m.xiaoyao0,m.goeast,m.gonorth],木板路:[m.xiaoyao0,m.goeast,m.gosouth],工匠屋:[m.xiaoyao0,m.goeast,m.gosouth,m.gosouth],地下石室:[m.xiaoyao0,m.godown,m.godown],林间小道:[m.xiaoyao1,m.gowest,m.xiaoyao0,m.gosouth,m.xiaoyao0,m.gonorth,m.xiaoyao0,m.goeast]},丐帮:{首席:[m.gaibang1],树洞内部:[m.gaibang0],树洞下:[m.gaibang0,m.godown],暗道1:[m.gaibang1,m.gowest,m.gowest],暗道2:[m.gaibang1,m.gowest],破庙密室:[m.gaibang1],土地庙:[m.gaibang1,m.goup],暗道3:[m.gaibang1,m.goeast],暗道4:[m.gaibang1,m.goeast,m.goeast],林间小屋:[m.gaibang1,m.goeast,m.goeast,m.goup],暗道:[m.gaibang1,m.gowest,m.gowest,m.gaibang1,m.goeast,m.goeast]}},n=new Vue({data:{version:\"\",dir:\"http://8.142.77.234/\",helloWorld:\"\",id:User.role.Id,name:User.role.Name,title:User.role.Title,server:User.server.Name,ip:User.server.Ip,port:User.server.Port,delay:256,state:\"*\",hp:0,hpMax:0,hpPer:0,mp:0,mpMax:0,mpPer:0,mpLimit:0,uid:\"\",family:\"\",is_vip:!1,debuffTime:0,skillTime:0,setAutoEq:\"on\",cmdAutoEq:\"\",setTeamMode:\"off\",setDebugMode:\"off\",setAutoRelive:\"off\",ptPathList:[],ptTarget:\"off\",setSmMode:\"default\",setZbMode:\"on\",setTdMode:\"on\",setQaMode:\"on\",setXbMode:\"off\",setAutoGuaJi:\"on\",setAutoXiYan:\"off\",setAutoWD:\"off\",setAutoSL:\"off\",setAutoHS:\"off\",setAutoEM:\"off\",setAutoXY:\"off\",setAutoGB:\"off\",setmainjs:\"off\",setAutoWDJS:\"off\",setAutoSLJS:\"off\",setAutoHSJS:\"off\",setAutoEMJS:\"off\",setAutoXYJS:\"off\",setAutoGBJS:\"off\",setKillPend:\"off\",setFenJieHig:\"off\",setFenJieHic:\"off\",setFenJieHiy:\"off\",setSellDanHig:\"off\",setSellEqHig:\"off\",setSellEqHio:\"off\",setSellEqHic:\"off\",setSellDanHic:\"off\",setSellEqHiy:\"off\",setSellEqHiz:\"off\",setAutoPerform:\"off\",lastCommand:\"\",lastTimeStamp:0,monitorManager:{},skillList:[],skillLimit:0,packList:[],packMax:0,eqList:[],roomName:\"\",roomPath:\"\",roomDesc:\"\",roomList:[],roomCmds:[],cmdGoOut:\"\",isTasking:!1,taskFbCount:0,taskSmCount:0,taskSmTotal:0,taskSmItem:\"\",taskZbCount:0,taskZbTotal:0,taskZbMax:0,taskZbItem:\"\",taskZbTime:\"\",taskZbRoomX:\"\",taskZbRoomY:\"\",taskXbCount:0,taskQaBool:!1,taskTdBool:!1,taskXyBool:!1,taskXyCount:0,taskHtCount:0,taskTower:{天道守护者:\"\",\"命·守护者\":\"未知\",\"魔·守护者\":\"未知\",\"杀·守护者\":\"未知\",\"天·守护者\":\"未知\"},showMenuList:!0,showDialog:\"\",lianXi:{},time:0,now:0,customList:[],monitorList:[],monitorItem:{value:{}},keypress:{A:\"\",S:\"\",D:\"\",W:\"\",E:\"\",C:\"\",Z:\"\",Q:\"\"},eq:[[],[],[],[]],xyStartTime:0,xyStartLog:\"\",xyOverTime:0,xyOverLog:\"\",mpzList:[],performList:[]},computed:{npcList(){const n=[];return this.roomList.forEach(t=>t.npc&&n.push(t)),n},roomNameX(){const e=this.roomName.match(/^(.+)-(.+)$/);if(e[1])return e[1]},roomNameY(){const e=this.roomName.match(/^(.+)-(.+)$/);if(e[2])return e[2]},menuListOne(){const e=[];return e.push({name:\"○\",cmd:\"$menu(toggle)\"}),e.push({name:\"设置\",cmd:\"$menu(option)\"}),e.push({name:\"日常\",cmd:\"$menu(task)\"}),e.push({name:\"技能\",cmd:\"$menu(skill)\"}),e.push({name:\"监控\",cmd:\"$menu(monitor)\"}),e.push({name:\"快捷\",cmd:\"$menu(custom)\"}),e.push({name:\"其他\",cmd:\"$menu(other)\"}),e},menuListTwo(){const n=[{name:\"●\",cmd:\"$menu(toggle)\"}];return 0===this.customList.length&&(n.push({name:\"一键击杀\",cmd:\"$killall\",sort:\"-1\"}),n.push({name:\"武庙疗伤\",cmd:\"$cure\",sort:\"-2\"})),\"leader\"===this.setTeamMode&&n.push({name:\"领队\",cmd:`tm follow ${this.uid}`}),this.customList.sort((n,t)=>n.sort-t.sort),this.customList.forEach(t=>{\"delete\"!==t.name&&n.push(t)}),n},userMonitorList(){const n=[];return this.monitorList.sort((n,t)=>n.sort-t.sort),this.monitorList.forEach(t=>{\"delete\"!==t.name&&n.push(t)}),n},editMonitorItem(){return this.monitorItem.value},optionList(){const e=[];return e.push({name:\"组队跟随\",key:\"setTeamMode\",value:this.setTeamMode,option:{off:\"关闭\",leader:\"队长模式\",follower:\"队员模式\"}}),e.push({name:\"死亡复活\",key:\"setAutoRelive\",value:this.setAutoRelive,option:{off:\"等待\",miao:\"武庙复活\",fu:\"天师符复活[慎用]\"}}),e.push({name:\"叛徒追踪\",key:\"ptTarget\",value:this.ptTarget,option:{off:\"关闭\",hio:\"橙\",hiz:\"紫\",hiy:\"黄\",hic:\"蓝\",hig:\"绿\"}}),e.push({name:\"指令显示\",key:\"setDebugMode\",value:this.setDebugMode,option:{off:\"关闭\",on:\"显示发送出的指令\"}}),e.push({name:\"自动挂机\",key:\"setAutoGuaJi\",value:this.setAutoGuaJi,option:{off:\"关闭\",on:\"每分钟检测是否闲置\"}}),e.push({name:\"自动喜宴\",key:\"setAutoXiYan\",value:this.setAutoXiYan,option:{off:\"关闭\",on:\"有喜宴时自动参加\"}}),e.push({name:\"自动装备\",key:\"setAutoEq\",value:this.setAutoEq,option:{off:\"关闭\",on:\"被卸武器自动装备\"}}),e.push({name:\"自动出招\",key:\"setAutoPerform\",value:this.setAutoPerform,option:{off:\"关闭\",on:\"开启脚本出招代替系统出招\"}}),e.push({name:\"叫杀任意的昏迷目标\",key:\"setKillPend\",value:this.setKillPend,option:{off:\"关闭\",on:\"无论何时何地，自动停止并叫杀目标[不推荐使用]\"}}),e.push({name:\"[日常任务] 师门任务\",key:\"setSmMode\",value:this.setSmMode,option:{off:\"关闭\",default:\"普通模式\",card:\"选择师门令牌\",quit:\"选择放弃任务\"}}),e.push({name:\"[日常任务] 追捕任务\",key:\"setZbMode\",value:this.setZbMode,option:{off:\"关闭\",on:\"自动追捕\",quit:\"死亡后放弃再继续[慎用]\"}}),e.push({name:\"[日常任务] 天道任务\",key:\"setTdMode\",value:this.setTdMode,option:{off:\"关闭\",on:\"自动天道塔\",new:\"100层后支持新天道塔\"}}),e.push({name:\"[日常任务] 请安任务\",key:\"setQaMode\",value:this.setQaMode,option:{off:\"关闭\",on:\"自动请安、查看药田、吃养精丹\"}}),e.push({name:\"[日常任务] 寻宝任务\",key:\"setXbMode\",value:this.setXbMode,option:{off:\"关闭\",on:\"每日藏宝图10次\",on1:\"每日藏宝图10000次\"}}),e.push({name:\"[门派战] 武当掌门\",key:\"setAutoWD\",value:this.setAutoWD,option:{off:\"关闭\",on:\"自动寻路\"}}),e.push({name:\"[门派战] 少林掌门\",key:\"setAutoSL\",value:this.setAutoSL,option:{off:\"关闭\",on:\"自动寻路\"}}),e.push({name:\"[门派战] 华山掌门\",key:\"setAutoHS\",value:this.setAutoHS,option:{off:\"关闭\",on:\"自动寻路\"}}),e.push({name:\"[门派战] 峨嵋掌门\",key:\"setAutoEM\",value:this.setAutoEM,option:{off:\"关闭\",on:\"自动寻路\"}}),e.push({name:\"[门派战] 逍遥掌门\",key:\"setAutoXY\",value:this.setAutoXY,option:{off:\"关闭\",on:\"自动寻路\"}}),e.push({name:\"[门派战] 丐帮掌门\",key:\"setAutoGB\",value:this.setAutoGB,option:{off:\"关闭\",on:\"自动寻路\"}}),e.push({name:\"[门派战] 七大门派长老总开关\",key:\"setmainjs\",value:this.setmainjs,option:{off:\"关闭\",on:\"开启\"}}),e.push({name:\"[门派战] 武当太上长老\",key:\"setAutoWDJS\",value:this.setAutoWDJS,option:{off:\"关闭\",on:\"自动寻路\"}}),e.push({name:\"[门派战] 少林太上长老\",key:\"setAutoSLJS\",value:this.setAutoSLJS,option:{off:\"关闭\",on:\"自动寻路\"}}),e.push({name:\"[门派战] 华山太上长老\",key:\"setAutoHSJS\",value:this.setAutoHSJS,option:{off:\"关闭\",on:\"自动寻路\"}}),e.push({name:\"[门派战] 峨嵋太上长老\",key:\"setAutoEMJS\",value:this.setAutoEMJS,option:{off:\"关闭\",on:\"自动寻路\"}}),e.push({name:\"[门派战] 逍遥太上长老\",key:\"setAutoXYJS\",value:this.setAutoXYJS,option:{off:\"关闭\",on:\"自动寻路\"}}),e.push({name:\"[门派战] 丐帮太上长老\",key:\"setAutoGBJS\",value:this.setAutoGBJS,option:{off:\"关闭\",on:\"自动寻路\"}}),e.push({name:\"[整理背包] 分解绿装\",key:\"setFenJieHig\",value:this.setFenJieHig,option:{off:\"关闭\",on:\"开启\"}}),e.push({name:\"[整理背包] 分解蓝装\",key:\"setFenJieHic\",value:this.setFenJieHic,option:{off:\"关闭\",on:\"开启\"}}),e.push({name:\"[整理背包] 分解黄装\",key:\"setFenJieHiy\",value:this.setFenJieHiy,option:{off:\"关闭\",on:\"开启\"}}),e.push({name:\"[整理背包] 贩卖绿丹\",key:\"setSellDanHig\",value:this.setSellDanHig,option:{off:\"关闭\",on:\"开启\"}}),e.push({name:\"[整理背包] 贩卖蓝丹\",key:\"setSellDanHic\",value:this.setSellDanHic,option:{off:\"关闭\",on:\"开启\"}}),e.push({name:\"[整理背包] 贩卖破烂绿装\",key:\"setSellEqHig\",value:this.setSellEqHig,option:{off:\"关闭\",on:\"开启\"}}),e.push({name:\"[整理背包] 贩卖破烂橙装\",key:\"setSellEqHio\",value:this.setSellEqHio,option:{off:\"关闭\",on:\"开启\"}}),e.push({name:\"[整理背包] 贩卖破烂蓝装\",key:\"setSellEqHic\",value:this.setSellEqHic,option:{off:\"关闭\",on:\"开启\"}}),e.push({name:\"[整理背包] 贩卖破烂黄装\",key:\"setSellEqHiy\",value:this.setSellEqHiy,option:{off:\"关闭\",on:\"开启\"}}),e.push({name:\"[整理背包] 贩卖破烂紫装\",key:\"setSellEqHiz\",value:this.setSellEqHiz,option:{off:\"关闭\",on:\"开启\"}}),e},aboutTaskHtml(){const n=[],t=(n,t)=>n<t?`<hig>未完成　${n}</hig>`:n;return n.push(`副本　${t(this.taskFbCount,20)}/20`),n.push(`师门　${t(this.taskSmCount,25)}/25　当前累计${this.taskSmTotal}次`),n.push(`追捕　${t(this.taskZbCount,20)}/20　当前累计${this.taskZbTotal}次[${this.taskZbMax}]`),n.push(`天道　${this.taskTdBool?\"已完成\":\"<hig>未完成</hig>\"} ${this.taskTower.天道守护者}`),\"new\"===this.setTdMode&&(n.push(`命塔　${this.taskTower.命·守护者}`),n.push(`魔塔　${this.taskTower.魔·守护者}`),n.push(`杀塔　${this.taskTower.杀·守护者}`),n.push(`天塔　${this.taskTower.天·守护者}`)),n.push(`请安　${this.taskQaBool?\"已完成\":\"<hig>未完成</hig>\"}`),n.push(`寻宝　${t(this.taskXbCount,10)}/10`),n.push(`寒铁　${t(this.taskHtCount,35)}/35`),n.push(`襄阳　${this.taskXyBool?\"已完成\":\"<hig>未完成</hig>\"} [${500>this.taskXyCount?`<hig>${this.taskXyCount}</hig>`:this.taskXyCount}/500]`),n.join(\"<br>\")},userData(){const n={name:this.name,setAutoEq:this.setAutoEq,setTeamMode:this.setTeamMode,setDebugMode:this.setDebugMode,setAutoRelive:this.setAutoRelive,ptTarget:this.ptTarget,setSmMode:this.setSmMode,setZbMode:this.setZbMode,setTdMode:this.setTdMode,setQaMode:this.setQaMode,setXbMode:this.setXbMode,setAutoGuaJi:this.setAutoGuaJi,setAutoXiYan:this.setAutoXiYan,setAutoWD:this.setAutoWD,setAutoSL:this.setAutoSL,setAutoHS:this.setAutoHS,setAutoEM:this.setAutoEM,setAutoXY:this.setAutoXY,setAutoGB:this.setAutoGB,setmainjs:this.setmainjs,setAutoWDJS:this.setAutoWDJS,setAutoSLJS:this.setAutoSLJS,setAutoHSJS:this.setAutoHSJS,setAutoEMJS:this.setAutoEMJS,setAutoXYJS:this.setAutoXYJS,setAutoGBJS:this.setAutoGBJS,setKillPend:this.setKillPend,setFenJieHig:this.setFenJieHig,setFenJieHic:this.setFenJieHic,setFenJieHiy:this.setFenJieHiy,setSellDanHig:this.setSellDanHig,setSellDanHic:this.setSellDanHic,setSellEqHig:this.setSellEqHig,setSellEqHio:this.setSellEqHio,setSellEqHic:this.setSellEqHic,setSellEqHiy:this.setSellEqHiy,setSellEqHiz:this.setSellEqHiz,setSellEqHic:this.setSellEqHic,taskXyCount:this.taskXyCount,setAutoPerform:this.setAutoPerform,time:this.time,taskTower:{},lianXi:{},eq:Array.from(this.eq),customList:[],monitorList:[]};return this.customList.forEach(t=>{\"delete\"!==t.name&&n.customList.push(t)}),this.monitorList.forEach(t=>{\"delete\"!==t.name&&n.monitorList.push(t)}),$.each(this.taskTower,(t,e)=>n.taskTower[t]=e),this.skillList.forEach(t=>{t.lianxi>t.level&&(n.lianXi[t.id]=t.lianxi)}),this.isRobot&&(n.xyStartTime=this.xyStartTime,n.xyStartLog=this.xyStartLog,n.xyOverTime=this.xyOverTime,n.xyOverLog=this.xyOverLog,n.mpzList=[...this.mpzList]),n},debuffSecond(){const e=this.getTimeStamp();return e<this.debuffTime?this.debuffTime-e:256},skillSecond(){const e=this.getTimeStamp();return e<this.skillTime?this.skillTime-e:256},isDev(){return[\"22fb777c-53a5-11e9-8316-00163e15eef2\",\"93d5cdf5-8fec-11e9-99ac-506b4b4b3eba\",\"46e0cc99-53bb-11e9-8316-00163e15eef2\",\"e9b34ea2-812d-11e9-99ac-506b4b4b3eba\",\"22e097d1-53a5-11e9-8316-00163e15eef2\"].includes(this.id)},isRobot(){return[\"46e0cc99-53bb-11e9-8316-00163e15eef2\",\"28dc9638-d6c7-4ec6-bbe8-3d608a24455b\"].includes(this.id)}},watch:{state(){document.title=`${this.name} ${this.state} ${this.server} ${this.title}`},lianXi(){this.onSend(\"cha\")}},methods:{onSend(...n){const t=n.length;if(1===t){const t=n[0];t instanceof Array?this.onSendArray(t):\"function\"==typeof t?t():\"string\"==typeof t&&this.onSendString(t)}else 1<t&&this.onSendArray(n)},onSendArray(n){const t=n.length;if(1<t){let o=n[0],e=n.remove(0);if(isNaN(+o)){this.onSend(o);let i=e[0],t=e.remove(0);isNaN(+i)?setTimeout(()=>this.onSend(i,...t),this.delay):setTimeout(()=>this.onSend(t),+i)}else setTimeout(()=>this.onSend(e),+o)}else 1===t&&this.onSend(n[0])},onSendString(n){if(/{.+}/.test(n))this.onSendSpecialCommand(n);else if(/,/.test(n)){const t=n.split(\",\");this.onSendArray(t)}else /\\$/.test(n)?this.onSendSpecialCommand(n):/^kill /.test(n)&&\"on\"===this.setAutoEq&&this.cmdAutoEq?this.onSend(`${this.cmdAutoEq},${n}`):(n=n.replace(/\\n/g,\"\"),GameClient.ws.send(`${n}\\n`),\"leader\"===this.setTeamMode&&/^dazuo|^liaoshang|^stopstate|^baoming|^jump|^go_|^kill |^jh |^follow/.test(n)&&this.onSendString(`tm ${n}`),\"on\"===this.setDebugMode&&this.onData(`<cyn>${n}`),this.lastCommand=n,this.lastTimeStamp=this.getTimeStamp())},onSendSpecialCommand(o){if(/{.+}/.test(o)){if(/{fb:(\\d+)}/.test(o)){const n=o.match(/{fb:(\\d+)}/)[1];this.onAutoFb(n)}}else if(/\\$/.test(o))if(/\\$menu\\((.+)\\)/.test(o)){const n=o.match(/\\$menu\\((.+)\\)/)[1];\"task\"===n&&this.onSend(\"tasks\"),this.onMenu(n)}else if(/\\$killall/.test(o)){const e=this.npcList.reduce((n,t)=>t.name.includes(\"尸体\")?n:[...n,`kill ${t.id}`],[]);0<e.length&&this.onSend(e)}else if(/\\$npc\\((.+?)\\)/.test(o)){const n=o.match(/\\$npc\\((.+?)\\)/)[1],e=this.roomList.find(e=>(e.id.includes(n)||e.name.includes(n))&&!e.name.includes(\"尸体\"));e&&this.onSend(o.replace(/\\$npc\\(.+?\\)/,e.id))}else if(/\\$item\\((.+?)\\)/.test(o)){const t=o.match(/\\$item\\((.+?)\\)/)[1],e=new RegExp(t);console.info(e);const i=this.packList.find(n=>e.test(n.name)||e.test(n.id));i&&this.onSend(o.replace(/\\$item\\(.+?\\)/,i.id))}else if(/\\$count\\((.+?)\\)/.test(o)){const t=o.match(/\\$count\\((.+?)\\)/)[1],e=new RegExp(t);console.info(e);const i=this.packList.find(n=>e.test(n.name)||e.test(n.id));i&&this.onSend(o.replace(/\\$count\\((.+?)\\)/,i.count))}else if(/\\$time/.test(o))this.onSend(o.replace(/\\$time/,this.getTimeString()));else if(/\\$on\\((.+?)\\)/.test(o)){const n=o.match(/\\$on\\((.+?)\\)/)[1];this.monitorList.forEach(e=>{e.sort===n&&(e.open=\"on\",this.onData(`<hic>[开启监控]<hiy>${e.name}`))})}else if(/\\$off\\((.+?)\\)/.test(o)){const n=o.match(/\\$off\\((.+?)\\)/)[1];this.monitorList.forEach(e=>{e.sort===n&&(e.open=\"off\",this.onData(`<hic>[关闭监控]<hiy>${e.name}`))})}else if(/\\$run\\((.+?)\\)/.test(o)){const n=o.match(/\\$run\\((.+?)\\)/)[1];this.customList.find(e=>{e.sort===n&&(this.onData(`<hic>[运行指令]<hiy>${e.name}`),this.onSend(e.cmd))})}else /\\$baoshi/.test(o)?this.onBaoShi():/\\$follower/.test(o)?(this.setTeamMode=\"follower\",this.onData(\"<hig>组队模式切换为队员跟随模式。\")):/\\$leader/.test(o)?(this.setTeamMode=\"leader\",this.onData(\"<hig>组队模式切换为队长领队模式。\")):/\\$lianxi/.test(o)?this.onLianXi():/\\$pack/.test(o)?this.onTaskPack():/\\$sm/.test(o)?this.onTaskSm():/\\$td/.test(o)?this.onTaskTd():/\\$qa/.test(o)?this.onTaskQa():/\\$xb/.test(o)?this.onTaskXb():/\\$zb/.test(o)?this.onTaskZb():/\\$miao/.test(o)?(this.setAutoRelive=\"miao\",this.onData(\"<hig>死亡模式为武庙复活\")):/\\$tianshi/.test(o)?(this.setAutoRelive=\"fu\",this.onData(\"<hig>死亡模式为天师符复活\")):/\\$offts/.test(o)?this.setmainjs=\"off\":/\\$onts/.test(o)?this.setmainjs=\"on\":/\\$task/.test(o)&&this.onTask()},onMenu(e){\"toggle\"===e?this.showMenuList=!this.showMenuList:this.showDialog=e},addMonitor(a){const t=a.name||\"plugins-monitor\",e=a.type||\"plugins\",i=a.on.bind(this),n=a.isOpen||!0,o=a.isOnce||!1;console.info(`MonitorAdded: ${t}`),this.monitorManager[t]={name:t,type:e,on:i,isOpen:n,isOnce:o}},removeMonitor(e){delete this.monitorManager[e]},onData(o){o&&(\"string\"==typeof o&&(o={type:\"text\",text:o}),Object.keys(this.monitorManager).forEach(t=>{const e=o.plugins||o.dialog||o.type,a=this.monitorManager[t];if(a&&a.isOpen&&e===a.type){const e=a.on(o);a.isOnce&&e&&this.removeMonitor(t)}}),\"time\"===o.type||console.info(o),this.onDataProcess($.extend(!0,{},o)))},onDataProcess(n){if(n&&!n.blocked){const t=n.type,e=Process[t];t&&e&&e(n)}},getRoomPath(n,o){const e=Object.keys(h).find(t=>n.includes(t));if(e){const n=h[e][o];if(n)return n}},getTimeStamp:()=>new Date().getTime(),getTimeString:()=>new Date().Format(\"hh:mm:ss\"),getDateString:()=>new Date().Format(\"yyyy-MM-dd\"),onSortSkill(n){let o=[];return n.forEach(a=>{const e=[/wht/,/hig/,/hic/,/hiy/,/hiz/,/hio/].findIndex(n=>n.test(a.name));0<=e?a.color=e:this.onData(\"<hir>未知技能数据。\");let t=0;0===e&&(t+=1e4*{force:99,unarmed:98,parry:97,dodge:96,sword:95,blade:94,club:93,staff:92,whip:91,throwing:90,bite:89,literate:88,\"liandan-su\":87,\"chuyi-jiqiao\":86}[a.id]),t+=1e4*a.color+a.level,a.order=t,a.exp=20>a.exp?20:5*~~(a.exp/5),a.lianxi=this.lianXi[a.id]||0,o.push(a)}),o.sort((n,t)=>t.order-n.order),o},onSortPack(a){const t=[];return[/炼精/,/寒铁石/,/千年寒铁/,/礼盒/,/背包扩充石/,/仓库扩充石/,/练习卡/,/千年灵芝/,/月饼/,/桂花酒/,/<ord>.+Lv/,/<hio>.+Lv/,/<hiz>.+Lv/,/<hiy>.+Lv/,/<hic>.+Lv/,/<hig>千悟.+Lv/,/<hig>.+Lv/,/<hio>养精丹/,/<hiz>养精丹/,/<hiy>养精丹/,/<hic>养精丹/,/<hig>养精丹/,/<hio>培元丹/,/<hiz>培元丹/,/<hiy>培元丹/,/<hic>培元丹/,/<hig>培元丹/,/<ord>超级叛师符/,/BOSS召唤卡/,/的卢(召唤卡)/,/<hio>.+秘籍/,/<hiz>.+秘籍/,/<hiy>.+秘籍/,/<hic>.+秘籍/,/<hig>.+秘籍/,/<hio>见闻录/,/<hiz>见闻录/,/<hiy>见闻录/,/<hic>见闻录/,/<hig>见闻录/,/<hio>天道酬勤卷/,/<hiz>天道酬勤卷/,/<hiy>天道酬勤卷/,/<hic>天道酬勤卷/,/<hig>天道酬勤卷/,/<hio>采矿通行证/,/<hiz>采矿通行证/,/<hiy>采矿通行证/,/<hic>采矿通行证/,/<hig>采矿通行证/,/遗忘丹/,/洗髓丹/,/变性丹/,/扫荡符/,/天师符/,/飞行旗/,/叛师符/,/改名符/,/随从改名符/,/红玫瑰/,/密函/,/<hio>突破丹/,/<hiz>突破丹/,/<hiy>突破丹/,/<hic>突破丹/,/<hig>突破丹/,/<hio>聚气丹/,/<hiz>聚气丹/,/<hiy>聚气丹/,/<hic>聚气丹/,/<hig>聚气丹/,/<hio>金创药/,/<hiz>金创药/,/<hiy>金创药/,/<hic>金创药/,/<hig>金创药/,/<hio>引气丹/,/<hiz>引气丹/,/<hiy>引气丹/,/<hic>引气丹/,/<hig>引气丹/,/<hio>喜宴/,/<hiz>喜宴/,/<hiy>喜宴/,/<hic>喜宴/,/<hig>喜宴/,/<hio>师门令牌/,/<hiz>师门令牌/,/<hiy>师门令牌/,/<hic>师门令牌/,/<hig>师门令牌/,/<hio>..残页/,/<hio>...残页/,/<hio>....残页/,/<hio>.....残页/,/<hio>.+残页/,/<hiz>..残页/,/<hiz>...残页/,/<hiz>....残页/,/<hiz>.....残页/,/<hiz>.+残页/,/<hiy>..残页/,/<hiy>...残页/,/<hiy>....残页/,/<hiy>.....残页/,/<hiy>.+残页/,/<hic>..残页/,/<hic>...残页/,/<hic>....残页/,/<hic>.....残页/,/<hic>.+残页/,/<hig>..残页/,/<hig>...残页/,/<hig>....残页/,/<hig>.....残页/,/<hig>.+残页/,/碎裂的红宝石/,/碎裂的绿宝石/,/碎裂的白宝石/,/碎裂的蓝宝石/,/碎裂的黄宝石/,/碎裂的粉宝石/,/碎裂的黑宝石/,/碎裂的青宝石/,/普通的红宝石/,/普通的绿宝石/,/普通的白宝石/,/普通的蓝宝石/,/普通的黄宝石/,/普通的粉宝石/,/普通的黑宝石/,/普通的青宝石/,/精致的红宝石/,/精致的绿宝石/,/精致的白宝石/,/精致的蓝宝石/,/精致的黄宝石/,/精致的粉宝石/,/精致的黑宝石/,/精致的青宝石/,/无暇的红宝石/,/无暇的绿宝石/,/无暇的白宝石/,/无暇的蓝宝石/,/无暇的黄宝石/,/无暇的粉宝石/,/无暇的黑宝石/,/无暇的青宝石/,/完美的红宝石/,/完美的绿宝石/,/完美的白宝石/,/完美的蓝宝石/,/完美的黄宝石/,/完美的粉宝石/,/完美的黑宝石/,/完美的青宝石/,/<hio>人参/,/<hio>灵芝/,/<hio>牛黄/,/<hio>茯苓/,/<hio>冬虫夏草/,/<hiz>木香/,/<hiz>樟脑/,/<hiz>檀香/,/<hiz>扁蓄/,/<hiz>天山雪莲/,/<hiy>鹿茸/,/<hiy>黄柏/,/<hiy>地龙/,/<hiy>羚羊角/,/<hiy>杠板归/,/<hic>麦芽/,/<hic>红参/,/<hic>麝香/,/<hic>四季青/,/<hic>藏红花/,/<hig>白矾/,/<hig>琥珀/,/<hig>车前草/,/<hig>金钱草/,/<hig>海螵蛸/,/<wht>乌药/,/<wht>陈皮/,/<wht>杜仲/,/<wht>朱砂/,/<wht>五倍子/,/<wht>.+秘籍/,/<hio>.+丹|<hio>.+丸|<hio>.+散/,/<hiz>.+丹|<hiz>.+丸|<hiz>.+散/,/<hiy>.+丹|<hiy>.+丸|<hiy>.+散/,/<hic>.+丹|<hic>.+丸|<hic>.+散/,/<hig>.+丹|<hig>.+丸|<hig>.+散/,/<hir>真武/,/<hir>罗汉/,/<hir>君子/,/<hir>曙光/,/<hir>鲲鹏/,/<hir>混天/,/<hio>真武/,/<hio>罗汉/,/<hio>君子/,/<hio>曙光/,/<hio>鲲鹏/,/<hio>混天/,/<hiz>真武/,/<hiz>罗汉/,/<hiz>君子/,/<hiz>曙光/,/<hiz>鲲鹏/,/<hiz>混天/,/<hiy>真武/,/<hiy>罗汉/,/<hiy>君子/,/<hiy>曙光/,/<hiy>鲲鹏/,/<hiy>混天/,/<hic>真武/,/<hic>罗汉/,/<hic>君子/,/<hic>曙光/,/<hic>鲲鹏/,/<hic>混天/,/<hig>真武/,/<hig>罗汉/,/<hig>君子/,/<hig>曙光/,/<hig>鲲鹏/,/<hig>混天/,/藏宝图/,/<hir>..<nor>/,/<hir>...<nor>/,/<hir>....<nor>/,/<hir>.+<nor>/,/<hio>..<nor>/,/<hio>...<nor>/,/<hio>....<nor>/,/<hio>.+<nor>/,/<hiz>..<nor>/,/<hiz>...<nor>/,/<hiz>....<nor>/,/<hiz>.+<nor>/,/<hiy>..<nor>/,/<hiy>...<nor>/,/<hiy>....<nor>/,/<hiy>.+<nor>/,/<hic>..<nor>/,/<hic>...<nor>/,/<hic>....<nor>/,/<hic>.+<nor>/,/<hig>..<nor>/,/<hig>...<nor>/,/<hig>....<nor>/,/<hig>.+<nor>/,/.+/].forEach(e=>{a.forEach((i,n)=>{i&&e.test(i.name)&&(t.push(i),a[n]=0)})}),t},onDownload(){$.ajax({url:`${this.dir}index.php`,type:\"POST\",data:{id:this.id,user:{name:this.name,time:0}},dataType:\"json\",success:n=>{if(this.onData(`<hic>【标识】${this.id}`),console.info(n),n.result&&n.user){if(console.info(n.time),this.time=n.time,n.user.level&&(n.user.custom&&$.each(n.user.custom,(n,t)=>{const e={name:n,cmd:t.value,sort:t.sort};this.customList.push(e)}),n.user.monitor&&$.each(n.user.monitor,(n,t)=>{if(\"skills\"!==t.type){const e=$.extend(!0,{},t);e.name=n,this.monitorList.push(e)}}),n.user.eq&&(n.user.eq.forEach((n,t)=>{this.eq[t]=n||[]}),delete n.user.eq),delete n.user.id,delete n.user.name,delete n.user.level,delete n.user.pantu,delete n.user.server,this.isRobot&&n.user.robot&&(this.mpzList=n.user.robot.mpz,this.xyStartTime=n.user.robot.xyz.starttime,this.xyStartLog=n.user.robot.xyz.startlog,this.xyOverTime=n.user.robot.xyz.overtime,this.xyOverLog=n.user.robot.xyz.overlog)),delete n.user.time,delete n.user.name,$.each(n.user,(n,t)=>{\"string\"==typeof t&&(this[n]=t)}),n.user.taskTower&&$.each(n.user.taskTower,(n,t)=>{\"string\"==typeof t&&(this.taskTower[n]=t)}),n.user.lianXi&&$.each(n.user.lianXi,(n,t)=>{\"string\"==typeof t&&(this.lianXi[n]=t)}),n.user.eq&&$.each(n.user.eq,(n,t)=>{t&&(this.eq[n]=t)}),n.user.customList&&n.user.customList.forEach(e=>this.customList.push(e)),n.user.monitorList&&n.user.monitorList.forEach(e=>this.monitorList.push(e)),n.now&&n.time){let t=n.time;const e=this.getDescriptionWithTime(t);this.onData(`<hic>【角色】${this.name}`),this.onData(`<hic>【期限】${e}`),2147483647<t&&(t=2147483647),setTimeout(()=>{window.location.href=window.location.href},t)}n.ip&&this.onData(`<hic>【地址】${n.ip}`),n.user.mpzList&&(this.mpzList=n.user.mpzList)}else this.onData(\"<hir>【期限】你的使用权限已过期。\"),$(\".jhmud\").remove(),$(\".room-commands\").prepend(\"<span class=\\\"act-item\\\" cmd=\\\"$killall\\\">击杀</span>\")},error:e=>{this.onData(\"<hir>连接脚本服务器失败！请尝试刷新页面。\"),console.info(e)}})},onUpload(){$.post({url:`${this.dir}index.php`,data:{id:this.id,user:this.userData},dataType:\"json\",success:e=>{console.info(e),this.onData(\"<hig>脚本数据上传成功。\")},error:e=>{console.info(e),this.onData(\"<hir>脚本数据上传失败。\")}})},getDescriptionWithTime(o){let t=parseInt(o/1e3/60),a=parseInt(t/60),d=parseInt(a/24);return t%=60,a%=24,`${d}天${a}小时${t}分钟`},onOption(o){const t=$(o.target),e=t.attr(\"set\"),i=t.attr(\"value\");this[e]=i},onTask(){this.onTaskStart().then(this.onTaskPack).then(this.onTaskSm).then(this.onTaskZb).then(this.onTaskTd).then(this.onTaskQa).then(this.onTaskXb).catch(this.onTaskError).finally(this.onTaskOver)},onTaskStart(){return this.clearAllTaskMonitor(),this.isTasking=!0,Promise.resolve(\"<hig>任务队列已开启。\")},onTaskError(e){this.onData(e),this.onData(\"<hir>任务队列已停止。\")},onTaskOver(){this.onData(\"<hic>任务队列已结束。\"),this.isTasking=!1,this.onSend(\"256,jh fam 0 3,go_fuben -auto\")},clearAllTaskMonitor(){this.removeMonitor(\"on-task-1\"),this.removeMonitor(\"on-task-2\"),this.removeMonitor(\"on-task-3\"),this.removeMonitor(\"on-task-4\"),this.removeMonitor(\"on-task-5\")},onTaskSm(){const n={武当派:\"谷虚道长\",少林派:\"清乐比丘\",华山派:\"高根明\",峨嵋派:\"苏梦清\",逍遥派:\"苏星河\",丐帮:\"左全\"}[this.family],t={武当派:[\"jh fam 1 start\",\"n\"],少林派:[\"jh fam 2 start\"],华山派:[\"jh fam 3 start\"],峨嵋派:[\"jh fam 4 start\",\"n\"],逍遥派:[\"jh fam 5 start\"],丐帮:[\"jh fam 6 start\",\"d\"]}[this.family];let a,u,h=!0;return new Promise((e,o)=>{if(\"off\"===this.setSmMode)return void e(\"<hic>师门任务未开启。\");let i,s,f,g,y,k;i=()=>{this.taskSmCount>=(this.is_vip?25:20)?y(\"<hic>师门任务已完成。\"):(this.onData(\"<hic>师门任务已开启。\"),this.onSend(\"stopstate\",...t,1e3,()=>{const t=this.npcList.find(t=>t.name.includes(n));t?(a=t.id,s()):k(`<hic>找不到<hiy>${n}<hic>。`)}))},s=()=>{u=`task sm ${a}`,this.onSend(256,u,\"tasks\",\"pack\",u,()=>f())},f=()=>{this.taskSmCount>=(this.is_vip?25:20)?y(\"<hic>师门任务已完成。\"):this.taskSmItem?g(this.taskSmItem):s()},g=n=>{if(this.packList.find(t=>t.name===n))return this.addMonitor({name:\"on-task-1\",type:\"cmds\",isOnce:!0,on(t){if(t.items){const e=t.items.find(t=>t.name.includes(\"上交\")&&t.name.includes(n));e&&this.onSend(e.cmd,()=>s())}return!0}}),void this.onSend(256,u);let t=m.buy[n];if(\"<hiy>神仙醉<nor>\"===n&&\"card\"===this.setSmMode&&(t=\"\"),t)return this.addMonitor({name:\"on-task-1\",type:\"list\",isOnce:!0,on(t){if(t.selllist&&t.seller){const e=t.selllist.find(t=>t.name===n);if(e)return this.onSend(256,`buy 1 ${e.id} from ${t.seller}`,\"pack\",()=>i()),!0}}}),this.addMonitor({name:\"on-task-2\",type:\"text\",isOnce:!0,on:e=>/你身上装不下这么多/.test(e.text)?(y(\"<hir>背包空间不足。\\n师门任务已停止。\"),!0):/穷光蛋/.test(e.text)?(y(\"<hir>购物银两不足。\\n师门任务已停止。\"),!0):void 0}),void this.onSend(256,t,\"list\");const o=m.liandan[n];if(!h)h=!0;else if(o)return this.addMonitor({name:\"on-task-1\",type:\"text\",isOnce:!0,on(t){return /你成功炼制出/.test(t.text)&&t.text.includes(n)?(i(),!0):/没办法炼制|无法炼制/.test(t.text)?(this.onData(\"<hir>炼药过程异常。\"),h=!1,i(),!0):void 0}}),void this.onSend(`256,jh fam 0 1,w,s,${o}`);return\"card\"===this.setSmMode?(console.info(\"使用师门令牌\"),this.addMonitor({name:\"on-task-2\",type:\"cmds\",isOnce:!0,on(n){if(console.info(\"发现cmds\"),n.items){const t=n.items.find(e=>e.name.includes(\"师门令牌\"));t&&(console.info(\"发现object\"),console.info(t),this.onSend(256,t.cmd,()=>s()))}return!0}}),void this.onSend(256,u)):void(\"quit\"===this.setSmMode?this.onSend(256,`${u} giveup`,()=>s()):y(\"<hir>师门任务未完成。\"))},y=n=>{i=()=>{},s=()=>{},this.clearAllTaskMonitor(),e(n)},k=e=>{o(e)},i()})},onTaskZb(){return new Promise(d=>{if(\"off\"===this.setZbMode)return void d(\"<hic>追捕任务未开启。\");let u,m,h,t,l,c;h=()=>{this.onTaskCure(()=>{this.onSend(\"stopstate\",\"jh fam 0 6\",\"zhuibu\",\"tasks\",2e3,()=>t())})},t=()=>{this.taskZbCount>=(this.is_vip?50:20)?c(\"<hic>追捕任务已完成。\"):this.taskZbItem&&(u=this.taskZbItem,m=this.getRoomPath(this.taskZbRoomX,this.taskZbRoomY),this.onData(`<hic>${this.taskZbTime}内前往${this.taskZbRoomX}${this.taskZbRoomY}击杀${u}。`),l())},l=()=>{const e=[],t=u;m.forEach(n=>{e.push(()=>{t===u&&this.onSend(n)},500)}),this.onSend(e)},c=n=>{this.clearAllTaskMonitor(),this.onData(n),d()},this.addMonitor({name:\"on-task-1\",type:\"items\",on(){const e=this.npcList.find(e=>e.name.includes(u));e&&(this.onData(`<hic>发现追捕目标${u}。`),this.onSend(`kill ${e.id}`),u=\"*\")}}),this.addMonitor({name:\"on-task-2\",type:\"text\",on(e){/你的追捕任务完成了/.test(e.text)&&h()}}),this.addMonitor({name:\"on-task-3\",type:\"die\",on(){\"quit\"===this.setZbMode?this.onSend(1e3,\"relive\",1e3,\"stopstate\",\"jh fam 0 6\",\"fangqi_job -yes\",()=>h()):this.onSend(1e3,\"relive\",()=>h())}}),h()})},onTaskTd(o=0){const d=[{target:\"天道守护者\",path:[\"stopstate\",\"jh fam 8 start\"]},{target:\"命\\xB7守护者\",path:[\"stopstate\",\"jh fam 8 start\",\"go_new\",\"e\"]},{target:\"魔\\xB7守护者\",path:[\"stopstate\",\"jh fam 8 start\",\"go_new\",\"s\"]},{target:\"杀\\xB7守护者\",path:[\"stopstate\",\"jh fam 8 start\",\"go_new\",\"w\"]},{target:\"天\\xB7守护者\",path:[\"stopstate\",\"jh fam 8 start\",\"go_new\",\"n\"]}];let e=0;return new Promise(t=>{if(\"off\"===this.setTdMode)return this.onData(\"<hic>天道任务未开启。\"),void t();const n=()=>{this.onTaskCure(()=>{this.onSend(this.debuffSecond,...d[o].path,()=>{o?3>e?(this.onData(\"<hig>天道塔失败次数在2次以内，采用快速爬塔模式。\"),this.onSend(\"u\")):(this.onData(\"<hig>天道塔失败次数在2次以上，采用等待技能模式。\"),this.onSend(this.skillSecond,\"u\"),this.onData(`<hic>等待${parseInt(this.skillSecond/1e3)}秒技能冷却。`)):this.onSend(\"u\")})})},i=e=>{o++,d[o]&&\"new\"===this.setTdMode?n():(this.clearAllTaskMonitor(),this.onData(e),t())};this.addMonitor({name:\"on-task-1\",type:\"items\",on(){const e=this.npcList.find(e=>e.name.includes(d[o].target));e&&!e.name.includes(\"老人\")&&(this.taskTower[d[o].target]=this.roomNameY,this.onSend(256,`kill ${e.id}`))}}),this.addMonitor({name:\"on-task-2\",type:\"text\",on(t){if(/你现在可以进入下一层/.test(t.text))\"第一百层\"===this.roomNameY?(this.onData(\"<hic>天道任务可重置。\"),this.onSend(256,...d[o].path,\"reset_tiaozhan\",\"task\",()=>i(\"<hic>天道任务已完成。\"))):this.onSend(this.debuffSecond,()=>n());else if(/请调整好状态重新来过/.test(t.text)){if(e++,\"new\"===this.setTdMode)return void i(`<hic>${d[o].target}任务已停止。`);this.onData(`<hic>${d[o].target}任务第${e}次挑战失败。`),5>e?n():i(`<hic>${d[o].target}任务已停止。`)}}}),this.addMonitor({name:\"on-task-3\",type:\"room\",on(){\"第一百零一层\"===this.roomNameY&&(this.onData(\"<hic>天道任务可重置。\"),this.onSend(256,...d[o].path,\"reset_tiaozhan\",\"task\",()=>i(\"<hic>天道任务已完成。\")))}}),n()})},onTaskQa(e){return this.onData(e),new Promise(d=>{if(\"off\"===this.setQaMode)return this.onData(\"<hic>自动请安未开启。\"),void d();let e,u,t,m,h=0;e=()=>{this.onData(\"<hic>请安任务已开启。\");const e=this.getRoomPath(this.family,\"首席\");this.onSend(\"stopstate\",\"jh fam 0 start\",\"vip_gift\",\"compensate_bug\",...e)},u=()=>{const n=this.packList.find(e=>\"<hig>养精丹<nor>\"===e.name);if(n&&(h=n.count),this.onData(`<hic>背包中有<hig>养精丹</hig>${h}枚。`),10<=h){const t=[];for(let e=0;10>e;e++)t.push(`use ${n.id}`);this.onSend(...t,()=>m(\"<hic>养精任务已结束。\"))}else this.onSend(\"256,jh fam 0 7\")},t=()=>{this.onSend(\"stopstate\",\"jh fam 0 1\",\"setting brief 0\",\"w\",\"n\",\"e\",()=>{if(\"药田\"===this.roomNameY){const e=this.roomDesc.match(/<hig>药田已经成长了(.+)<\\/hig>/);e&&e[1]&&(this.onData(`<hic>药田已经成长了<hiy>${e[1]}<hic>。`),/6日|7日/.test(e[1])?(this.onData(\"<hic>药田已经可以收获。\"),this.onSend(\"cai\",()=>u())):(this.onData(\"<hic>药田还可以继续成长，超过6天可以获得更多的橙色药材。\"),u()))}else this.onData(\"<hic>未找到药田。\"),u()})},m=n=>{this.clearAllTaskMonitor(),d(n),u=()=>{}},this.addMonitor({name:\"on-task-1\",type:\"items\",on(){const n=this.npcList.find(e=>e.name.includes(\"首席弟子\"));n&&this.onSend(256,`ask2 ${n.id}`,\"pack\",()=>this.onData(\"<hic>请安任务已完成。\"),()=>t());const o=this.npcList.find(e=>e.name.includes(\"药铺老板\"));o&&this.onSend(256,`buy ${10-h} /clone/medicine/yangjingdan2 from ${o.id}`,\"pack\",()=>u())}}),this.addMonitor({name:\"on-task-2\",type:\"text\",on(e){/你的物品数量已经超出背包容量|你身上装不下这么多/.test(e.text)?m(\"<hir>背包空间不足。\\n</hir><hic>养精任务已停止。\"):/穷光蛋/.test(e.text)&&m(\"<hir>背包银两不足。\\n</hir><hic>养精任务已停止。\")}}),e()})},onTaskXb(n){let d,u,l,c,r,p;return this.onData(n),new Promise(n=>{c=()=>{\"on\"===this.setXbMode?this.onSend(\"tasks\",()=>{this.onData(`<hic>今日已寻宝${this.taskXbCount}次。`),10<=this.taskXbCount?p(\"<hic>寻宝任务已结束。\"):r()}):\"on1\"===this.setXbMode?(this.onData(`<hic>今日已寻宝${this.taskXbCount}次。`),r()):p(\"<hic>寻宝任务已结束。\")},r=()=>{this.onSend(\"pack\",1e3,()=>{const e=this.packList.find(e=>e.name.includes(\"藏宝图\"));e?(d=e.id,this.onSend(`checkobj ${d} from item`)):this.onSend(\"<hic>找不到藏宝图。\")})},p=t=>{this.clearAllTaskMonitor(),n(t)},this.addMonitor({name:\"on-task-1\",type:\"pack\",on(e){if(\"item\"===e.from&&e.desc.includes(\"藏宝图\")&&/\\(<hic>(.+)<wht>-<hig><cmd cmd='.+'>(.+)<\\/cmd><nor>\\)/.test(e.desc)){const n=e.desc.match(/\\(<hic>(.+)<wht>-<hig><cmd cmd='.+'>(.+)<\\/cmd><nor>\\)/);let t=this.getRoomPath(n[1],n[2]),o=0;for(u=[t];0<=o;){o++;let e=this.getRoomPath(n[1],n[2]+o);e?u.push(e):o=-1}l=1===u.length?0:1,this.onSend(m.stopstate,...u[l],`use ${d}`)}}}),this.addMonitor({name:\"on-task-2\",type:\"text\",on(e){/你对照藏宝图所示地形观察了半天，发现原来根本不是这里。/.test(e.text)?(l++,this.onSend(256,\"stopstate\",...u[l],`use ${d}`)):/<nor>你失去了<...>藏宝图<nor>1张。/.test(e.text)&&c()}}),c()})},onTaskPt(d=this.ptTarget){const u=[\"hio\",\"hiz\",\"hiy\",\"hic\",\"hig\"].findIndex(n=>n===d),e=this.ptPathList[u];if(!e)return;const i=[\"stopstate\"];e.forEach(e=>{i.push(()=>{l&&this.onSend(e)})});let n,t,m,l=!0;this.addMonitor({name:\"task-pt-1\",type:\"items\",on(){const o=[\"<hio>\",\"<hiz>\",\"<hiy>\",\"<hic>\",\"<hig>\"][u],e=this.npcList.find(n=>n.name.includes(`${o}武林叛徒`));e&&(l=!1,n=e.id,this.onData(\"<hic>发现目标，即刻击杀。\"),this.onSend(`256,kill ${n}`))}}),this.addMonitor({name:\"task-pt-2\",type:\"status\",on(e){\"add\"===e.action&&e.id===n&&/乾坤|太玄/.test(e.name)&&(this.onData(\"<hic>撤退。\"),this.onSend(this.cmdGoOut,()=>m()))}}),this.addMonitor({name:\"task-pt-3\",type:\"itemremove\",on(e){n===e.id&&m()}}),this.addMonitor({name:\"task-pt-4\",type:\"text\",on(e){/你本周已经参与打BOSS次数已满，下周再来吧。/.test(e.text)&&(this.ptTarget=5,m())}}),t=()=>{this.onData(\"<hic>叛徒任务已开启。\"),this.onSend(...i,()=>{n||(this.onData(\"<hic>叛徒任务目标丢失。\"),m())})},m=()=>{this.removeMonitor(\"task-pt-1\"),this.removeMonitor(\"task-pt-2\"),this.removeMonitor(\"task-pt-3\"),this.onData(\"<hic>叛徒任务已结束。\"),this.onSend(\"jh fam 0 3,go_fuben -auto\")},t()},onTaskCure(n){const o=()=>{this.onData(`<hic>你的当前状态为${this.hpPer}%气血值，${this.mpPer}%内力值。`),60>this.mpPer?this.onSend(\"stopstate,jh fam 0 3,dazuo\"):90>this.hpPer?this.onSend(\"stopstate,jh fam 0 3,liaoshang\"):(this.onData(\"<hic>治疗任务已结束。\"),this.removeMonitor(\"task-cure\"),n())};this.addMonitor({name:\"task-cure\",type:\"sc\",on(e){100>this.mpPer&&100>this.hpPer||(100!==this.mpPer||100!==this.hpPer)&&(e.id!==this.uid||100!==e.mp&&100!==e.hp)||o()}}),this.onData(\"<hic>治疗任务已开启。\"),this.onSend(\"score\",()=>$(\"[command=\\\"score\\\"]\").click(),()=>o())},onTaskPack(){return new Promise(n=>{const t=()=>{this.onSend(\"jh fam 0 11\",\"pack\",()=>{const t=[];\"on\"===this.setFenJieHig&&t.push(\"yjfeijie 2 -yes\",\"yjfeijie 2 -yes\"),\"on\"===this.setFenJieHic&&t.push(\"yjfeijie 3 -yes\",\"yjfeijie 3 -yes\"),\"on\"===this.setFenJieHiy&&t.push(\"yjfeijie 4 -yes\",\"yjfeijie 4 -yes\"),this.onSend(...t,\"pack\",()=>{const o=this.npcList.find(e=>e.id.includes(\"tiejiang\"));if(o){const e=[];this.packList.forEach(n=>{m.liandan[n.name]&&!n.name.includes(\"突破丹\")&&(n.name.includes(\"<hig>\")&&\"on\"===this.setSellDanHig&&e.push(`sell ${n.count} ${n.id} to ${o.id}`),n.name.includes(\"<hic>\")&&\"on\"===this.setSellDanHic&&e.push(`sell ${n.count} ${n.id} to ${o.id}`)),n.can_eq&&0===n.is_locking&&!n.name.includes(\"Lv\")&&(\"on\"===this.setSellEqHiy&&n.name.includes(\"<hiy>\")&&e.push(`sell 1 ${n.id} to ${o.id}`),\"on\"===this.setSellEqHig&&n.name.includes(\"<hig>\")&&e.push(`sell 1 ${n.id} to ${o.id}`),\"on\"===this.setSellEqHio&&n.name.includes(\"<hio>\")&&e.push(`sell 1 ${n.id} to ${o.id}`),\"on\"===this.setSellEqHic&&n.name.includes(\"<hic>\")&&e.push(`sell 1 ${n.id} to ${o.id}`),\"on\"===this.setSellEqHiz&&n.name.includes(\"<hiz>\")&&e.push(`sell 1 ${n.id} to ${o.id}`))}),this.onSend(...e,()=>{this.removeMonitor(\"on-task-1\"),this.onSend(\"jh fam 0 4\",\"pack\",\"store 1\",()=>n())})}})})};this.addMonitor({name:\"on-task-1\",type:\"list\",on(e){if(e.stores){const a=e.index,i=[0,\"仓库一\",\"仓库二\"][a],d=[];e.stores.forEach(n=>{const o=this.packList.find(t=>t.name===n.name);if(o){const{count:e,id:t}=o;d.push(`store ${a} ${e} ${t}`)}}),this.onSend(()=>this.onData(`<hic>查找<hiy>${i}<hic>同名物品。`),...d,()=>{1===a?this.onSend(\"pack\",\"store 2\"):2===a&&t()})}}}),this.onSend(\"stopstate\",\"jh fam 0 4\",\"sell all\",\"pack\",\"store 1\")})},onLianXiSave(){const a={};this.skillList.forEach(t=>{const{id:e,level:i,lianxi:n}=t;i<n&&(a[e]=n)}),this.lianXi=a,this.onUpload()},onLianXi(){const n=()=>{this.removeMonitor(\"task-lianxi\"),this.onData(\"<hic>练习技能已结束。\"),this.onSend(\"stopstate,go_fuben -auto\")},o=()=>{this.onData(\"<hic>查找需要练习的技能。\");const t=this.skillList.find(e=>e.level<e.lianxi&&e.level<this.skillLimit);t?(this.onData(`<hic>技能<hiw>[${t.name}<hiw>]<hic>练习开始。`),this.onSend(`stopstate,lianxi ${t.id}`)):(this.onData(\"<hic>没有需要练习的技能。\"),n())};this.addMonitor({name:\"task-lianxi\",type:\"skills\",on(n){if(n.id&&n.level){const e=this.skillList.find(t=>t.id===n.id);e&&(e.level>=e.lianxi||e.level>=this.skillLimit)&&(this.onData(`<hic>技能<hiw>[${e.name}<hiw>]<hic>练习结束。`),o())}}}),o()},addCustom(){this.customList.push({name:\"名称\",cmd:\"指令\",sort:\"999\"})},removeCustom(){0<this.customList.length&&this.customList.pop()},editMonitor(e){console.info(e),this.showDialog=\"editmonitor\",this.monitorItem.value=e},deleteMonitor(n){this.monitorList.find(t=>{t===n&&(t.name=\"delete\",t.open=\"off\")})},createMonitor(n){const t={sort:\"9999\"};t.type=n,t.keys=\"\",t.commands=\"\",t.open=\"on\",\"status\"===n?(t.action=\"add\",t.targets=\"\"):\"msg\"==n&&(t.channel=\"chat\",t.speakers=\"\"),t.name=`新监控${this.getTimeStamp()}`,this.monitorList.push(t),this.editMonitor(t)},lookEq(n){const t=[\"壹\",\"贰\",\"叁\",\"肆\"][n];this.onData(`<hiy>[查看预存的装备套${t}]`);const e=this.eq[n];0===e.length?this.onData(\"<hiw>无\"):e.forEach(e=>this.onData(e))},saveEq(n){this.onSend(\"pack\",()=>{this.onData(\"<hiy>[当前装备]\");const o=[];this.eqList.forEach(e=>{e&&(this.onData(e.name),o.push(e.name))}),this.eq[n]=o;const e=[\"壹\",\"贰\",\"叁\",\"肆\"][n];this.onData(`<hiy>[已预存装备套${e}]`)})},loadEq(o){this.onSend(\"pack\",()=>{const t=this.eq[o],e=[\"壹\",\"贰\",\"叁\",\"肆\"][o],i=[\"stopstate\"];t&&t.forEach(n=>{const t=this.packList.find(t=>t.name===n);t&&i.push(`eq ${t.id}`)}),this.onSend(...i,()=>this.onData(`<hiy>[已使用装备套${e}]`))})},onTaskLiLian(){let o,n,a;n=()=>{this.onSend(`dc ${o} stopstate -yes`,`dc ${o} lilian -start`,`pack ${o}`)},a=()=>{this.clearAllTaskMonitor(),this.onData(\"<hic>历练任务已结束。\")},this.addMonitor({name:\"on-task-1\",type:\"cmds\",on(e){const t=e.items.find(e=>e.name.includes(\"撤离\"));t&&this.onSend(256,t.cmd);const o=e.items.find(e=>e.name.includes(\"确定使用\"));o&&this.onSend(256,o.cmd,()=>n())}}),this.addMonitor({name:\"on-task-2\",type:\"pack2\",on(t){const e=t.items.find(e=>e.id.includes(\"jianwenlu\"));e?this.onSend(256,`dc ${o} use ${e.id}`):a()}}),this.addMonitor({name:\"on-task-3\",type:\"text\",on(e){/今天已经历练完成，明天再来吧。/.test(e.text)&&a()}}),this.onSend(\"stopstate\",\"jh fam 0 1\",\"zhaoji\",\"wakuang -all\",600,()=>{const e=this.roomList.find(e=>e.id.includes(\"suicong\"));e&&(o=e.id,n())})},onTaskKuangDong(){const n=[];this.addMonitor({name:\"on-task-1\",type:\"kuang\",on(o){if(0===o.is_left&&0===o.is_seven){const e=o.list.find(e=>\"\"===e.sc_name);e&&(this.onData(`<hic>第${e.floor}层${e.num}号矿洞可抢占！`),n.unshift(`wakuang -fight ${e.floor} ${e.num} 0`))}else if(1===o.is_left&&1===o.is_seven){const n=[];o.list.forEach(t=>n.push(`wakuang -list 7 ${t.id}`)),this.onSend(n)}else if(0===o.is_left&&1===o.is_seven){const e=o.list.find(e=>\"\"===e.sc_name&&1!==e.num);e&&(this.onData(`<hic>第7层[${o.zhuren}-${e.num}]号高级矿洞可抢占！`),n.unshift(`wakuang -fight 7 ${e.num} ${o.zhuren}`))}}}),this.addMonitor({name:\"on-task-2\",type:\"text\",on(n){const t=/<div class='item-commands'><span cmd='(wakuang -hit .+)'>.+<\\/span><\\/div>/;if(t.test(n.text)){const e=n.text.match(t)[1];this.onSend(e,()=>this.onData(\"<hic>矿洞任务已完成。\")),this.clearAllTaskMonitor()}}}),this.onSend(\"stopstate\",\"jh fam 0 1\",\"zhaoji\",\"wakuang -list 1\",\"wakuang -list 2\",\"wakuang -list 3\",\"wakuang -list 4\",\"wakuang -list 5\",\"wakuang -list 6\",\"wakuang -list 7\",3e3,()=>{this.onSend(n[0])})},onTaskMail(){this.addMonitor({name:\"on-task-1\",type:\"message\",on(n){if(\"system\"===n.id){this.removeMonitor(\"on-task-1\");const o=[256];n.items.forEach(e=>{void 0===e.rec&&o.push(`receive system ${e.index}`)}),this.onSend(o)}}}),this.onSend(\"message system\")},onYJXL20(){const n=[\"stopstate\"];for(let t=0;20>t;t++)n.push(\"go_fuben /fuben/fuben/mengjing\",\"look_to\",\"go_fuben over\");n.push(\"tasks\"),this.onSend(n)},onUseAll(){this.onSend(\"pack\",()=>{let n=\"<span class=\\\"item-commands\\\">\";this.packList.forEach(o=>{if(\"<hig>养精丹<nor>\"!==o.name&&/培元丹|聚气丹|突破丹|养精丹/.test(o.name)){const e=[\"stopstate\"];for(let n=0;n<o.count;n++)e.push(`use ${o.id}`);n+=`<span cmd=\"${e.join(\",\")}\">服用${o.count}${o.unit}${o.name}</span>`}}),this.onData(n)},()=>this.showDialog=\"\")},onFuBen:e=>[1].includes(e)?`{fb:${e}}`:\"\",onAutoFb(a){const t={1:\"一觉醒来\"}[a],e=parseInt(prompt(`你需要执行${t}副本几次？`));if(!e)return;let i,d=1;1===a&&(i=()=>{d>e?this.onData(`<hic>执行${t}副本${e}次完成。`):(this.onData(`<hic>第${d++}次执行${t}副本。`),this.onSend(256,\"stopstate\",\"go_fuben /fuben/fuben/mengjing\",\"look_to\",\"go_fuben over\",()=>{i()}))}),i()},onBaoShi(){this.showDialog=\"\",this.onSend(\"pack\",()=>{const o=[\"<span class=\\\"item-commands\\\"><hiy>[宝石合成]<br></hiy>\"];this.packList.forEach(t=>{if(t.id.includes(\"item/baoshi\")&&10<=t.count){const e=parseInt(t.count/10),i=`stopstate,combine ${t.id} ${e},$baoshi`;o.push(`<span cmd=\"${i}\">${t.name}合成${e}次</span>`)}}),this.onData(o.join(\"\"))})},refreshPerformList(){const a=[];Combat.skillItems.forEach(o=>{const t=o.id,i=Combat.performs[t].order;if(0!==Combat.performs[t].use){const n=this.performList.find(e=>e.id===o.id);if(n){const o=n.time;a.push({id:t,order:i,time:o})}else a.push({id:t,order:i,time:1})}}),this.performList=a},resetTianDao(){this.onSend(\"stopstate\",\"jh fam 8 start\",\"reset_tiaozhan\",\"go_new\",\"n\",\"reset_tiaozhan\",\"s\",\"e\",\"reset_tiaozhan\",\"w\",\"s\",\"reset_tiaozhan\",\"n\",\"w\",\"reset_tiaozhan\",\"e\",()=>{$.each(this.taskTower,e=>{this.taskTower[e]=\"<hig>已重置</hig>\"})})}},created(){console.info(\"Vue.created\"),$(\".room-commands\").before(\"<div class=\\\"jhmud\\\"></div>\"),$(\".jhmud\").append($(\"<div class=\\\"jhmud-menu-list\\\" v-show=\\\"showMenuList\\\"></div>\").append($(\"<span v-for=\\\"item in menuListOne\\\" :cmd=\\\"item.cmd\\\" :data-name=\\\"item.name.slice(0, 4)\\\"></span>\")),$(\"<div class=\\\"jhmud-menu-list\\\" v-show=\\\"!showMenuList\\\"></div>\").append($(\"<span v-for=\\\"item in menuListTwo\\\" :cmd=\\\"item.cmd\\\" :data-name=\\\"item.name.slice(0, 4)\\\"></span>\"))),$(\".jhmud\").append($(\"<div class=\\\"jhmud-dialog\\\" v-show=\\\"showDialog === 'option'\\\"></div>\").append($(\"<span class=\\\"jhmud-dialog-title\\\">脚本设置</span>\"),$(\"<div class=\\\"jhmud-dialog-close\\\" @click=\\\"showDialog = ''\\\">\\xD7</div>\"),$(\"<div class=\\\"jhmud-dialog-content\\\"></div>\").append($(\"<div class=\\\"jhmud-option\\\" v-for=\\\"item in optionList\\\"></div>\").append($(\"<span class=\\\"jhmud-option-name\\\">{{item.name}}</span>\"),$(\"<div style=\\\"height:2em\\\" v-for=\\\"(text, key) in item.option\\\" :key=\\\"key + text\\\"></div>\").append($(\"<input :id=\\\"key + text\\\" type=\\\"radio\\\" :name=\\\"item.text\\\" :value=\\\"key\\\" v-model=\\\"item.value\\\">\"),$(\"<label :for=\\\"key + text\\\" :data-label=\\\"text\\\" @click=\\\"onOption\\\" :set=\\\"item.key\\\" :value=\\\"key\\\"></label>\")))),$(\"<div class=\\\"jhmud-dialog-footer\\\"></div>\").append($(\"<span class=\\\"jhmud-button\\\" @click=\\\"onUpload\\\">上传数据</span>\")))),$(\".jhmud\").append($(\"<div class=\\\"jhmud-dialog\\\" v-show=\\\"showDialog === 'task'\\\"></div>\").append($(\"<span class=\\\"jhmud-dialog-title\\\">日常任务</span>\"),$(\"<div class=\\\"jhmud-dialog-close\\\" @click=\\\"showDialog = ''\\\">\\xD7</div>\"),$(\"<div class=\\\"jhmud-dialog-content\\\"></div>\").append($(\"<div v-html=\\\"aboutTaskHtml\\\" style=\\\"line-height:1.5em\\\"></div>\"),$(\"<div style=\\\"display:flex;flex-wrap:wrap;line-height:1.5em;padding-top:0.5em;\\\"></div>\").append($(\"<span class=\\\"jhmud-button\\\" @click=\\\"onTaskSm\\\">自动师门</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"onTaskZb\\\">自动追捕</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"onTaskTd(0)\\\">自动天道</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"onTaskQa\\\">自动请安</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"onTaskXb\\\">自动寻宝</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"onTaskLiLian\\\">自动历练</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"onTaskKuangDong\\\">自动矿洞</span>\"),$(\"<nor style=\\\"margin-top:0.5em;width:100%\\\">天道之外</nor>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"onTaskTd(1)\\\">自动天道\\xB7命</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"onTaskTd(2)\\\">自动天道\\xB7魔</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"onTaskTd(3)\\\">自动天道\\xB7杀</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"onTaskTd(4)\\\">自动天道\\xB7天</span>\"),$(\"<br>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"resetTianDao\\\">重置所有天道的进度[慎点]</span>\"),$(\"<hiw style=\\\"margin-top:0.5em\\\">一键任务会依次执行：整理背包、师门、追捕、天道、请安、查看药园、服用养精丹、寻宝。</hiw>\"))),$(\"<div class=\\\"jhmud-dialog-footer\\\"></div>\").append($(\"<span class=\\\"jhmud-button\\\" @click=\\\"onTask\\\">一键任务</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"clearAllTaskMonitor\\\">强制停止</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"onUpload\\\">上传数据</span>\")))),$(\".jhmud\").append($(\"<div class=\\\"jhmud-dialog\\\" v-show=\\\"showDialog === 'skill'\\\"></div>\").append($(\"<span class=\\\"jhmud-dialog-title\\\">技能 [等级上限:{{skillLimit}}级]</span>\"),$(\"<div class=\\\"jhmud-dialog-close\\\" @click=\\\"showDialog = ''\\\">\\xD7</div>\"),$(\"<div class=\\\"jhmud-dialog-content\\\"></div>\").append($(\"<table style=\\\"margin:auto\\\"></table>\").append($(\"<thead></thead>\").append($(\"<tr></tr>\").append($(\"<td style=\\\"width:3em;height:2em\\\"><cyn>技能名称</td>\"),$(\"<td style=\\\"width:3em;height:2em\\\"><cyn>当前等级</td>\"),$(\"<td style=\\\"width:4em;height:2em\\\"><cyn>目标等级</td>\"))),$(\"<tfoot></tfoot>\").append($(\"<tr><td colspan=3 style=\\\"padding-top:0.5em;text-align:left;\\\"><hiw>如果目标等级大于等级上限，那么技能等级到达等级上限就会练习下一个技能。</hiw></td></tr>\")),$(\"<tbody></tbody>\").append($(\"<tr v-for=\\\"skill in skillList\\\"></tr>\").append($(\"<td v-html=\\\"skill.name\\\"></td>\"),$(\"<td v-html=\\\"skill.level\\\"></td>\"),$(\"<td></td>\").append(\"<input v-model=\\\"skill.lianxi\\\" type=\\\"text\\\" style=\\\"height:1.2em\\\"/>\"))))),$(\"<div class=\\\"jhmud-dialog-footer\\\"></div>\").append($(\"<span class=\\\"jhmud-button\\\" @click=\\\"onLianXi\\\">开始练习</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"lianXi={}\\\">重置等级</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"onLianXiSave\\\">上传数据</span>\")))),$(\".jhmud\").append($(\"<div class=\\\"jhmud-dialog\\\" v-show=\\\"showDialog === 'custom'\\\"></div>\").append($(\"<span class=\\\"jhmud-dialog-title\\\">自定义快捷键</span>\"),$(\"<div class=\\\"jhmud-dialog-close\\\" @click=\\\"showDialog = ''\\\">\\xD7</div>\"),$(\"<div class=\\\"jhmud-dialog-content\\\"></div>\").append($(\"<table class=\\\"jhmud-table\\\"></table>\").append($(\"<thead></thead>\").append($(\"<tr></tr>\").append($(\"<td style=\\\"width:2em\\\"><cyn>排序</td>\"),$(\"<td style=\\\"width:4em\\\"><cyn>按键名称</td>\"),$(\"<td style=\\\"width:10em\\\"><cyn>具体指令</td>\"))),$(\"<tfoot></tfoot>\").append($(\"<tr><td colspan=3 style=\\\"padding-top:0.5em;text-align:left;\\\"><hiw>点击脚本栏左边的圆点，即可使用自定义的快捷键。快捷键名称建议不超过四个字，就算超过也只显示前四个字。<cyn>删除快捷键：</cyn>从最下面的开始删除。</hiw></td></tr>\"),$(\"<tr><td colspan=3 style=\\\"padding-top:0.5em;text-align:left;\\\"><hiw>当前支持的特殊代码：</hiw></td></tr>\"),$(\"<tr><td colspan=3 style=\\\"padding-top:0.5em;text-align:left;\\\"><hiw><cyn>$killall</cyn> 依次叫杀当前房间的所有npc目标。</hiw></td></tr>\"),$(\"<tr><td colspan=3 style=\\\"padding-top:0.5em;text-align:left;\\\"><hiw><cyn>$npc(value)</cyn> 将会根据value的值查找匹配的房间npc，并用匹配的npc的id替换该代码。</hiw></td></tr>\"),$(\"<tr><td colspan=3 style=\\\"padding-top:0.5em;text-align:left;\\\"><hiw><cyn>$item(value)</cyn> 将会根据value的值查找匹配的背包物品，并用匹配的物品的id替换该代码。</hiw></td></tr>\"),$(\"<tr><td colspan=3 style=\\\"padding-top:0.5em;text-align:left;\\\"><hiw><cyn>$on(value) $off(value)</cyn> 将会根据value的值查找匹配的自定义监控序号，开启或关闭所有能匹配的自定义监控。</hiw></td></tr>\"),$(\"<tr><td colspan=3 style=\\\"padding-top:0.5em;text-align:left;\\\"><hiw><cyn>$run(value)</cyn> 将会根据value的值查找自定义快捷键，并执行序号匹配的快捷键。</hiw></td></tr>\"),$(\"<tr><td colspan=3 style=\\\"padding-top:0.5em;text-align:left;\\\"><hiw><cyn>$time</cyn> 当前时间。</hiw></td></tr>\"),$(\"<tr><td colspan=3 style=\\\"padding-top:0.5em;text-align:left;\\\"><hiw><cyn>$leader</cyn> 组队模式切换为队长。</hiw></td></tr>\"),$(\"<tr><td colspan=3 style=\\\"padding-top:0.5em;text-align:left;\\\"><hiw><cyn>$follower</cyn> 组队模式切换为队员。</hiw></td></tr>\"),$(\"<tr><td colspan=3 style=\\\"padding-top:0.5em;text-align:left;\\\"><hiw><cyn>$sm</cyn> 自动师门</hiw></td></tr>\"),$(\"<tr><td colspan=3 style=\\\"padding-top:0.5em;text-align:left;\\\"><hiw><cyn>$zb</cyn> 自动追捕</hiw></td></tr>\"),$(\"<tr><td colspan=3 style=\\\"padding-top:0.5em;text-align:left;\\\"><hiw><cyn>$td</cyn> 自动天道塔</hiw></td></tr>\"),$(\"<tr><td colspan=3 style=\\\"padding-top:0.5em;text-align:left;\\\"><hiw><cyn>$qa</cyn> 自动请安</hiw></td></tr>\"),$(\"<tr><td colspan=3 style=\\\"padding-top:0.5em;text-align:left;\\\"><hiw><cyn>$xb</cyn> 自动寻宝</hiw></td></tr>\"),$(\"<tr><td colspan=3 style=\\\"padding-top:0.5em;text-align:left;\\\"><hiw><cyn>$pack</cyn> 整理背包</hiw></td></tr>\"),$(\"<tr><td colspan=3 style=\\\"padding-top:0.5em;text-align:left;\\\"><hiw><cyn>$miao</cyn> 死亡模式切换为武庙复活</hiw></td></tr>\"),$(\"<tr><td colspan=3 style=\\\"padding-top:0.5em;text-align:left;\\\"><hiw><cyn>$tianshi</cyn> 死亡模式切换为天师符复活</hiw></td></tr>\"),$(\"<tr><td colspan=3 style=\\\"padding-top:0.5em;text-align:left;\\\"><hiw><cyn>$onts</cyn> 打开门派红总开关</hiw></td></tr>\"),$(\"<tr><td colspan=3 style=\\\"padding-top:0.5em;text-align:left;\\\"><hiw><cyn>$offts</cyn> 关闭门派红总开关</hiw></td></tr>\")),$(\"<tbody></tbody>\").append($(\"<tr class=\\\"custom-tr\\\" v-for=\\\"item in customList\\\" style=\\\"height=3em\\\"></tr>\").append($(\"<td style=\\\"height:4.5em\\\"><input v-model=\\\"item.sort\\\" type=\\\"text\\\"/></td>\"),$(\"<td style=\\\"height:4.5em\\\"><input v-model=\\\"item.name\\\" type=\\\"text\\\"/></td>\"),$(\"<td style=\\\"height:4.5em\\\"><textarea v-model=\\\"item.cmd\\\" spellcheck=\\\"false\\\"></textarea></td>\"))))),$(\"<div class=\\\"jhmud-dialog-footer\\\"></div>\").append($(\"<span class=\\\"jhmud-button\\\" @click=\\\"addCustom\\\">添加快捷</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"onUpload\\\">上传数据</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"removeCustom\\\">删除快捷</span>\")))),$(\".jhmud\").append($(\"<div class=\\\"jhmud-dialog\\\" v-show=\\\"showDialog === 'monitor'\\\"></div>\").append($(\"<span class=\\\"jhmud-dialog-title\\\">自定义监控</span>\"),$(\"<div class=\\\"jhmud-dialog-close\\\" @click=\\\"showDialog = ''\\\">\\xD7</div>\"),$(\"<div class=\\\"jhmud-dialog-content\\\"></div>\").append($(\"<table class=\\\"jhmud-table\\\"></table>\").append($(\"<thead></thead>\").append($(\"<tr></tr>\").append($(\"<td style=\\\"width:3em\\\"><cyn>排序</td>\"),$(\"<td style=\\\"width:8em\\\"><cyn>名称</td>\"),$(\"<td style=\\\"width:8em\\\"><cyn>操作</td>\"))),$(\"<tfoot></tfoot>\").append($(\"<tr></tr>\").append($(\"<td colspan=3 style=\\\"height:auto;padding-top:1em\\\"></td>\").append($(\"<span class=\\\"jhmud-button\\\" @click=\\\"createMonitor('msg')\\\">创建消息监控</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"createMonitor('items')\\\">创建角色监控</span>\"))),$(\"<tr></tr>\").append($(\"<td colspan=3 style=\\\"height:auto;padding-top:1em\\\"></td>\").append($(\"<span class=\\\"jhmud-button\\\" @click=\\\"createMonitor('status')\\\">创建状态监控</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"createMonitor('time')\\\">创建定时监控</span>\")))),$(\"<tbody></tbody>\").append($(\"<tr v-for=\\\"item in userMonitorList\\\" style=\\\"height:3em\\\"></tr>\").append($(\"<td><cyn>{{item.sort}}</cyn></td>\"),$(\"<td></td>\").append($(\"<hig v-show=\\\"item.open==='on'\\\" @click=\\\"item.open='off'\\\">{{item.name}}</hig>\"),$(\"<nor v-show=\\\"item.open==='off'\\\" @click=\\\"item.open='on'\\\">{{item.name}}</nor>\")),$(\"<td></td>\").append($(\"<span class=\\\"jhmud-button\\\" @click=\\\"editMonitor(item)\\\">修改</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"deleteMonitor(item)\\\">删除</span>\")))))),$(\"<div class=\\\"jhmud-dialog-footer\\\"></div>\").append($(\"<span class=\\\"jhmud-button\\\" @click=\\\"onUpload\\\">上传数据</span>\")))),$(\".jhmud\").append($(\"<div class=\\\"jhmud-dialog\\\" v-show=\\\"showDialog === 'editmonitor'\\\"></div>\").append($(\"<span class=\\\"jhmud-dialog-title\\\">编辑自定义监控</span>\"),$(\"<div class=\\\"jhmud-dialog-close\\\" @click=\\\"showDialog = ''\\\">\\xD7</div>\"),$(\"<div class=\\\"jhmud-dialog-content\\\"></div>\").append($(\"<table class=\\\"jhmud-table\\\"></table>\").append($(\"<thead></thead>\").append($(\"<tr></tr>\").append($(\"<td style=\\\"width:5em\\\">类型</td>\"),$(\"<td style=\\\"width:15em\\\" v-if=\\\"editMonitorItem.type === 'msg'\\\"><cyn>消息监控</cyn></td>\"),$(\"<td style=\\\"width:15em\\\" v-else-if=\\\"editMonitorItem.type === 'items'\\\"><cyn>角色监控</cyn></td>\"),$(\"<td style=\\\"width:15em\\\" v-else-if=\\\"editMonitorItem.type === 'status'\\\"><cyn>状态监控</cyn></td>\"),$(\"<td style=\\\"width:15em\\\" v-else-if=\\\"editMonitorItem.type === 'time'\\\"><cyn>定时监控</cyn></td>\"))),$(\"<tfoot></tfoot>\").append($(\"<tr><td colspan=2 style=\\\"padding-top:1em\\\"></td></tr>\")),$(\"<tbody></tbody>\").append($(\"<tr></tr>\").append($(\"<td>名称</td>\"),$(\"<td><input type=\\\"text\\\" v-model=\\\"editMonitorItem.name\\\"></td>\")),$(\"<tr></tr>\").append($(\"<td>序列号</td>\"),$(\"<td><input type=\\\"text\\\" v-model=\\\"editMonitorItem.sort\\\"></td>\")),$(\"<tr v-if=\\\"editMonitorItem.type === 'status'\\\"></tr>\").append($(\"<td>动作</td>\"),$(\"<td></td>\").append($(\"<hig v-if=\\\"editMonitorItem.action === 'add'\\\" @click=\\\"editMonitorItem.action='remove'\\\">状态出现<hig>\"),$(\"<hig v-else-if=\\\"editMonitorItem.action === 'remove'\\\" @click=\\\"editMonitorItem.action='refresh'\\\">状态消失<hig>\"),$(\"<hig v-else-if=\\\"editMonitorItem.action === 'refresh'\\\" @click=\\\"editMonitorItem.action='add'\\\">状态刷新<hig>\"))),$(\"<tr v-if=\\\"editMonitorItem.type === 'msg'\\\"></tr>\").append($(\"<td>频道</td>\"),$(\"<td></td>\").append($(\"<hig v-if=\\\"editMonitorItem.channel === 'chat'\\\" @click=\\\"editMonitorItem.channel='tm'\\\">世界<hig>\"),$(\"<hig v-else-if=\\\"editMonitorItem.channel === 'tm'\\\" @click=\\\"editMonitorItem.channel='fam'\\\">组队<hig>\"),$(\"<hig v-else-if=\\\"editMonitorItem.channel === 'fam'\\\" @click=\\\"editMonitorItem.channel='pty'\\\">门派<hig>\"),$(\"<hig v-else-if=\\\"editMonitorItem.channel === 'pty'\\\" @click=\\\"editMonitorItem.channel='es'\\\">帮派<hig>\"),$(\"<hig v-else-if=\\\"editMonitorItem.channel === 'es'\\\" @click=\\\"editMonitorItem.channel='sys'\\\">全区<hig>\"),$(\"<hig v-else-if=\\\"editMonitorItem.channel === 'sys'\\\" @click=\\\"editMonitorItem.channel='room'\\\">系统<hig>\"),$(\"<hig v-else-if=\\\"editMonitorItem.channel === 'room'\\\" @click=\\\"editMonitorItem.channel='chat'\\\">当前房间<hig>\"))),$(\"<tr v-if=\\\"editMonitorItem.type === 'msg' && editMonitorItem.channel !== 'sys' && editMonitorItem.channel !== 'room'\\\"></tr>\").append($(\"<td>发言人</td>\"),$(\"<td><input v-model=\\\"editMonitorItem.speakers\\\" type=\\\"text\\\" spellcheck=false></td>\")),$(\"<tr v-if=\\\"editMonitorItem.hasOwnProperty('targets')\\\"></tr>\").append($(\"<td>目标</td>\"),$(\"<td><input v-model=\\\"editMonitorItem.targets\\\" type=\\\"text\\\" spellcheck=false></td>\")),$(\"<tr></tr>\").append($(\"<td>关键字</td>\"),$(\"<td><textarea style=\\\"height:3em\\\" v-model=\\\"editMonitorItem.keys\\\" spellcheck=false></textarea></td>\")),$(\"<tr></tr>\").append($(\"<td>指令</td>\"),$(\"<td><textarea style=\\\"height:3em\\\" v-model=\\\"editMonitorItem.commands\\\" spellcheck=false></textarea></td>\"))))),$(\"<div class=\\\"jhmud-dialog-footer\\\"></div>\").append($(\"<span class=\\\"jhmud-button\\\" @click=\\\"showDialog = 'monitor'\\\">编辑完成</span>\")))),$(\".jhmud\").append($(\"<div class=\\\"jhmud-dialog\\\" v-show=\\\"showDialog === 'other'\\\"></div>\").append($(\"<span class=\\\"jhmud-dialog-title\\\">其他脚本功能</span>\"),$(\"<div class=\\\"jhmud-dialog-close\\\" @click=\\\"showDialog = ''\\\">\\xD7</div>\"),$(\"<div class=\\\"jhmud-dialog-content\\\"></div>\").append($(\"<cyn>预存装备一键切换</cyn>\"),$(\"<div style=\\\"display:flex;margin-top:0.3em\\\"></div>\").append($(\"<span class=\\\"jhmud-button\\\" @click=\\\"saveEq(0)\\\">预存装备套壹</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"lookEq(0)\\\">查看</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"loadEq(0)\\\">使用</span>\")),$(\"<div style=\\\"display:flex;margin-top:0.3em\\\"></div>\").append($(\"<span class=\\\"jhmud-button\\\" @click=\\\"saveEq(1)\\\">预存装备套贰</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"lookEq(1)\\\">查看</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"loadEq(1)\\\">使用</span>\")),$(\"<div style=\\\"display:flex;margin-top:0.3em\\\"></div>\").append($(\"<span class=\\\"jhmud-button\\\" @click=\\\"saveEq(2)\\\">预存装备套叁</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"lookEq(2)\\\">查看</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"loadEq(2)\\\">使用</span>\")),$(\"<div style=\\\"display:flex;margin-top:0.3em\\\"></div>\").append($(\"<span class=\\\"jhmud-button\\\" @click=\\\"saveEq(3)\\\">预存装备套肆</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"lookEq(3)\\\">查看</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"loadEq(3)\\\">使用</span>\")),$(\"<cyn style=\\\"margin-top:0.3em\\\">背包物品相关</cyn>\"),$(\"<div style=\\\"display:flex;margin-top:0.3em\\\"></div>\").append($(\"<span class=\\\"jhmud-button\\\" @click=\\\"onTaskPack\\\">整理背包</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"onUseAll\\\">批量使用</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"onBaoShi\\\">宝石合成</span>\")),$(\"<cyn style=\\\"margin-top:0.3em\\\">其他</cyn>\"),$(\"<div style=\\\"display:flex;margin-top:0.3em\\\"></div>\").append($(\"<span class=\\\"jhmud-button\\\" @click=\\\"onTaskMail\\\">清理邮件</span>\"),$(\"<span class=\\\"jhmud-button\\\" @click=\\\"onYJXL20\\\">[慎点]一觉醒来副本20次[小号清任务用]</span>\"))),$(\"<div class=\\\"jhmud-dialog-footer\\\"></div>\").append($(\"<span class=\\\"jhmud-button\\\" @click=\\\"onUpload\\\">上传数据</span>\")))),$(\".room-title\").append(\"<span class=\\\"title-time\\\"></span>\")},el:\".jhmud\",mounted(){console.info(\"Vue.mounted\"),setInterval(()=>{const n=parseInt((this.getTimeStamp()-this.lastTimeStamp)/1e3);60<n&&(\"\"!==this.state&&\"死亡\"!==this.state||(this.isTasking?(this.onData(\"<hir>任务队列异常。\"),this.onTask()):\"on\"===this.setAutoGuaJi&&(\"\"===this.state?(this.onData(`<hic>累计${n}秒无操作，自动进入挂机副本。`),this.onSend(\"go_fuben -auto\")):\"死亡\"===this.state&&(this.onData(`<hic>累计${n}秒无操作，自动进入挂机副本。`),this.onSend(\"relive,go_fuben -auto\")))),\"连接中断\"===this.state&&(this.onData(\"<hiy>[断线状态]尝试重新连接服务器。\"),this.onSend(()=>$(\"[command=score]\").click(),()=>$(\"[command=score]\").click())));const t=new Date;this.onData({type:\"time\",time:this.getTimeString(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds()}),$(\".title-time\").html(`　${this.getDateString()}　${this.getTimeString()}`)},1e3)}});class o{constructor(e){$.each(e,(n,t)=>this[n]=t)}get visible(){const o=this.id.includes(\"corpse\")&&!this.name.includes(\"宝象的尸体\"),t=this.name.includes(\"<离线>\")||this.name.includes(\"<断线>\");if(o||t)return!1;const e=Setting.off_plist,i=!this.id.includes(Process.player)&&this.id.includes(\"user\");return!e||!i}get sort(){return this.id===Process.player?0:/user/.test(this.id)?1e4+[/^<ord>/,/^<hir>/,/^<hio>/,/^<hiz>/,/^<hiy>/,/^<hic>/,/^<hig>/,/^<grn>/].findIndex(e=>e.test(this.name)):1e3+[/^<ord>Boss <nor>/,/^<hio>Boss <nor>/,/^<hiz>Boss <nor>/,/^<hiy>Boss <nor>/,/^<hic>Boss <nor>/,/^<hig>Boss <nor>/,/^<hic>Npc <nor><hir>/,/^<hic>Npc <nor><hio>/,/^<hic>Npc <nor><hiz>/,/^<hic>Npc <nor><hiy>/,/^<hic>Npc <nor><hic>/,/^<hic>Npc <nor><hig>/,/^<hic>Npc <nor><grn>/,/^<red>已杀<\\/red>/].findIndex(e=>e.test(this.name))}get npc(){return!/user/.test(this.id)}}const a=new Vue({data:{list:[]},computed:{qkList(){return[{name:\"乾坤\",cmd:\"use buff_cunchu\"},...this.list]}},methods:{refreshData(n){const o=[];n.split(\"</cmd>\").forEach(e=>{/<cmd cmd='([\\s\\S]+?)'><hic>([\\s\\S]+?)<\\/hic>/.test(e)&&o.push({name:RegExp.$2.slice(0,2),cmd:RegExp.$1})}),this.list=o,console.info(o)},init(){$(\"#qiankun\").show()}},created(){$(\".tool-bar.right-bar.right-bar-2\").prepend($(\"<div id=\\\"qiankun\\\" class=\\\"item-commands\\\">\\n        <span v-for=\\\"item in qkList\\\" :cmd=\\\"item.cmd\\\">{{ item.name }}</span>\\n      </div>\").hide())},el:\"#qiankun\"});!function(){function d(n=256){return new Promise(t=>setTimeout(()=>t(n),n))}function t(o,t,e){n.addMonitor({name:o,type:t,on:e})}if(window.plugins)return void console.info(\"多次加载\");Object.defineProperties(Array.prototype,{remove:{value:function(n=0,t=1){const e=[...this];return e.splice(n,t),e}}}),$.fn.extend({animateScroll(o=\"normal\"){const t=this[0].scrollTop,e=this[0].scrollHeight,i=Math.ceil(this.height());return e-t>i&&this.stop(!0,!0).animate({scrollTop:e-i},o),this}}),t(\"\",\"\",function(){}),t(\"登陆\",\"login\",function(e){e.id&&(this.uid=e.id),e.setting.trigger_url&&(this.onData(\"<hir>脚本尝试二次加载，强制终止。\"),e.setting.trigger_url=\"\")}),t(\"文本修正\",\"text\",function(n){n.text=n.text.replace(/^\\r\\n|\\r\\n$/g,\"\"),n.text=n.text.replace(/\\r\\n<nor>$|<nor>$/g,\"\"),n.text=n.text.replace(/^\\n|\\n$/g,\"\"),/^</.test(n.text)||(n.text=`<nor>${n.text}`),500<$(\".content-message pre\").children().length&&$(\".content-message pre\").children(\":lt(250)\").remove(),[/^<hig>一道祥和的光环笼罩着你全身，你发现身上的(.+)在渐渐恢复。/,/^<hiw>(.+)的尸体<nor>开始腐烂了，发出一股难闻的恶臭。/,/^<hiw>腐烂的尸体<nor>被风吹乾了，变成一具骸骨。/,/^<nor>一阵风吹过，把<hiw>枯乾的骸骨<nor>化成骨灰吹散了。/,/^<nor>你收获了：/,/^<nor>恭喜你获得：(.+)宝石<nor>x(.+)块/,/^<nor>你合成了(.+)块(.+)宝石<nor>。/].find(t=>{if(t.test(n.text))return n.type=\"blocked\",!0})}),n.addMonitor({name:\"获得经验潜能\",type:\"text\",on(a){const t=/<hig>恭喜你获得：经验\\+(\\d+)点，潜能\\+(\\d+)点。/;if(t.test(a.text)){const e=a.text.match(t),i=+e[1],n=+e[2];return a.text=`<nor>你获得了经验${i}点，潜能${n}点。`,this.jy+=i,void(this.qn+=n)}const d=/<hic>第(\\d+)层<nor>\\r\\n<hig>你获得了(\\d+)点经验，(\\d+)点潜能/;if(d.test(a.text)){const t=a.text.match(d),e=t[1],n=+t[2],o=+t[3];return a.text=`<hic>第${e}层\\n<nor>你获得了经验${n}点，潜能${o}点。`,this.jy+=n,void(this.qn+=o)}const s=/^<hiy>恭喜你战胜了[天道塔]*守护者，你现在可以进入下一层。<nor>\\r\\n<hig>你获得了(.+)点经验，(.+)点潜能/;if(s.test(a.text)){const n=a.text.match(s),e=+n[1],t=+n[2];return a.text=`<nor>你战胜了<hiy>${this.roomNameY}<nor>守护者，你现在可以进入下一层。\\n<nor>你获得了经验${e}点，潜能${t}点。`,this.jy+=e,void(this.qn+=t)}const n=/^恭喜你获得：潜能\\*(\\d+)点$/;if(n.test(a.text)){const t=+a.text.match(n)[1];this.qn+=t,a.text=`<nor>你获得了潜能${t}点。`}}}),n.addMonitor({name:\"core-text-打坐时间\",type:\"text\",on(a){const t=/^<hig>你的最大内力增加了(.+)点！$/;if(t.test(a.text)){const e=a.text.match(t),i=parseInt(e[1]);this.mpMax+=i;const n=parseInt((this.mpLimit-this.mpMax)/(6*i));a.text=`<nor>你的最大内力提高了${i}点。\\n</nor><hic class=\"remove\">你的最大内力从${this.mpMax}点提高到${this.mpLimit}点需要打坐${n}分钟。`}}}),n.addMonitor({name:\"core-text-一键天赋\",type:\"text\",on(a){const t=/天赋名称：.+\\((.+)\\/10\\)[\\s\\S]+<div class=\"item-commands\"><span cmd=\"(.+)\">升级<\\/span><\\/div>/;if(t.test(a.text)){const e=a.text.match(t),i=e[2];let n=i;for(let o=+e[1];9>o;o++)n+=`,${i}`;a.text=a.text.replace(/[\\s\\S]<div class=\"item-commands\"><span cmd=\"(.+)\">升级<\\/span><\\/div>/,`<span class=\"item-commands\"><span cmd=\"${i}\">升一级</span><span cmd=\"${n}\">升满级</span></span>`)}}}),n.addMonitor({name:\"core-text-显示文案\",type:\"text\",on(e){e.blocked=!0,/item-commands/.test(e.text)&&$(\".content-message\").find(\".item-commands\").remove(),/remove/.test(e.text)&&$(\".content-message\").find(\".remove\").remove(),0===$(\".content-message pre\").length&&$(\".content-message\").append(\"<pre></pre>\"),$(\".content-message pre\").append(`${e.text}\\n`),$(\".content-message\").animateScroll()}}),t(\"掉线 顶号\",\"text\",function(e){/你的账号在别处登录，你被迫下线了！/.test(e.text)?(alert(\"你的账号在别处登录，你被迫下线了！\"),window.location.href=window.location.href):/你的连接中断了/.test(e.text)&&(this.state=\"连接中断\")}),t(\"自定义监控 角色新增\",\"itemadd\",function(n){-1===this.roomList.findIndex(t=>t.id===n.id)&&this.monitorList.forEach(t=>{if(\"on\"===t.open&&\"items\"===t.type){const e=new RegExp(t.keys);(e.test(n.name)||e.test(n.id))&&(this.onData(`<hic>[触发监控]<hiy>${t.name}`),this.onSend(t.commands.replace(/\\$id/g,n.id)))}})}),t(\"自定义监控 角色列表\",\"items\",function(n){this.monitorList.forEach(o=>{if(\"on\"===o.open&&\"items\"===o.type){const e=new RegExp(o.keys);n.items.forEach(n=>{n&&(e.test(n.name)||e.test(n.id))&&(this.onData(`<hic>[触发监控]<hiy>${o.name}`),this.onSend(o.commands.replace(/\\$id/g,n.id)))})}})}),t(\"房间角色数据\",\"items\",function(e){e.items&&(this.roomList=[],e.items.forEach(n=>{const a=new o(n);if(a.visible&&this.roomList.push(a),a.name.includes(\"宝藏入口\")){const e=`stopstate,go_enter ${a.id},e,e,search,search,search,search,search,e,look guanguo,dakai`,n=`<div class=\"item-commands remove\"><cyn>发现古墓宝藏入口。[${a.id}]</cyn><span cmd=\"${e}\">进入古墓探寻</span>`;this.onData(n)}}),this.roomList.sort((n,t)=>n.sort-t.sort),e.items.splice(0),e.items.push(...this.roomList))}),t(\"房间角色增加\",\"itemadd\",function(n){const a=new o(n),e=this.roomList.findIndex(t=>t.id===n.id);if(-1===e?this.roomList.push(a):this.roomList[e]=a,a.name.includes(\"宝藏入口\")){const e=`stopstate,go_enter ${a.id},e,e,search,search,search,search,search,e,look guanguo,dakai`,n=`<div class=\"item-commands remove\"><cyn>发现古墓宝藏入口。[${a.id}]</cyn><span cmd=\"${e}\">进入古墓探寻</span>`;this.onData(n)}}),t(\"房间角色减少\",\"itemremove\",function(n){const t=this.roomList.findIndex(t=>t.id===n.id);-1!==t&&this.roomList.splice(t,1)}),t(\"江湖快捷寻路\",\"jh\",function(n){if(\"fam\"===n.t){const t=[];t.push(\"<div class=\\\"item-commands\\\">\"),0===n.index?(t.push(\"<span cmd=\\\"stopstate,jh fam 0 3\\\">武庙</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 0 5\\\">当铺</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 0 10\\\">杂货</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 0 11\\\">铁匠</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 0 12\\\">武馆</span>\"),t.push(\"<br>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 0 4\\\">仓库</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 0 1,w,w\\\">练功房</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 0 2,n,n,e,list $npc(bcangku)\\\">帮派仓库</span>\"),t.push(\"<br>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 0 start,n,e\\\">张无忌</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 0 10,u\\\">欧冶子</span>\"),t.push(\"<br>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 0 start,liwu\\\"><hiy>周年庆礼物大使</hiy></span>\")):1===n.index?(t.push(\"<span cmd=\\\"stopstate,jh fam 1 start,n\\\">谷虚道长</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 1 start,n\\\">宋远桥</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 1 1,n,w,nu,nu,nu,nu,n,n,n,n,n,n,open door,n\\\">张三丰</span>\"),t.push(\"<br>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 1 1,sd\\\">后勤管理员</span>\")):2===n.index?(t.push(\"<span cmd=\\\"stopstate,jh fam 2 start\\\">清乐比丘</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 2 start,n,n,nu\\\">道觉禅师</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 2 1,w\\\">慧合尊者</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 2 1,e\\\">澄净</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 2 1,n\\\">玄难</span>\"),t.push(\"<br>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 2 start,n\\\">后勤管理员</span>\")):3===n.index?(t.push(\"<span cmd=\\\"stopstate,jh fam 3 start\\\">高根明</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 3 1,n\\\">岳不群</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 3 start,eu,su,jump down\\\">封不平</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 3 1,s,s,su,su,break bi,go enter\\\">风清扬</span>\"),t.push(\"<br>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 3 1\\\">后勤管理员</span>\")):4===n.index?(t.push(\"<span cmd=\\\"stopstate,jh fam 4 start,n\\\">苏梦清</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 4 start,s\\\">静心</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 4 start,w,n,n\\\">周芷若</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 4 start,w,s,w,s\\\">灭绝师太</span>\"),t.push(\"<br>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 4 start,w\\\">后勤管理员</span>\")):5===n.index?(t.push(\"<span cmd=\\\"stopstate,jh fam 5 start,n,n\\\">薛慕华</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 5 start\\\">苏星河</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 5 start,d,d\\\">逍遥子</span>\"),t.push(\"<br>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 5 start,e\\\">后勤管理员</span>\")):6===n.index?(t.push(\"<span cmd=\\\"stopstate,jh fam 6 start,d\\\">左全</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 6 1,u\\\">简长老</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 6 1,e,e\\\">鲁有脚</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 6 1,e,e,u\\\">洪七公</span>\"),t.push(\"<br>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 6 1,w\\\">后勤管理员</span>\")):7===n.index&&(t.push(\"<span cmd=\\\"stopstate,jh fam 7 start,cha_jungong,baoming\\\">报名</span>\"),t.push(\"<br>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 7 start,n,n,n,n\\\">北门</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 7 start,e,e,e,e\\\">东门</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 7 start,s,s,s,s\\\">南门</span>\"),t.push(\"<span cmd=\\\"stopstate,jh fam 7 start,w,w,w,w\\\">西门</span>\")),t.push(\"</div>\"),n.desc+=t.join(\"\")}}),Dialog.show=function(n,t){if(n&&!t){if(this.isShow&&n==this.curItem)return this.hide();this.curItem&&n!=this.curItem&&(Dialog[Dialog.curItem].close&&Dialog[Dialog.curItem].close(),Dialog[Dialog.curItem].isShow=!1,Dialog.contentElement.empty()),this.init(),this.curItem=n,this[n].show(t)}else n&&t&&this[n].onData(t);i(\".content-message\",256)},t(\"乾坤天地\",\"popup\",function(e){\"<hig>乾坤天地<nor>\"===e.label&&(console.info(e),a.init(),a.refreshData(e.text),e.blocked=!0)}),t(\"乾坤已存储/已释放\",\"text\",function(e){/你将[\\s\\S]+效果存储到了乾坤。|你将[\\s\\S]+从乾坤中释放了出来。/.test(e.text)?this.onSend(\"use buff_shifang\"):/<red>你没有存储任何BUFF。/.test(e.text)&&a.refreshData(\"\")}),t(\"副本序号\",\"jh\",function(n){if(n.fbs)for(let t=0;t<n.fbs.length;t++)n.fbs[t]=`${t+1}.${n.fbs[t]}`}),n.addMonitor({name:\"core-score-属性数据\",type:\"score\",on(e){e.name&&(this.uid=e.id,this.family=e.family,this.hp=e.hp,this.mp=e.mp,this.hpMax=e.max_hp,this.mpMax=e.max_mp,this.hpPer=parseInt(100*(e.hp/e.max_hp)),this.mpPer=parseInt(100*(e.mp/e.max_mp)),this.mpLimit=e.limit_mp,this.jy=e.exp,this.qn=e.pot,this.is_vip=\"无\"!==e.is_vip)}}),n.addMonitor({name:\"core-sc-气血内力\",type:\"sc\",on(e){e.id===this.uid&&(\"number\"==typeof e.hp&&(this.hpPer=e.hp),\"number\"==typeof e.mp&&(this.mpPer=e.mp))}}),n.addMonitor({name:\"core-pack-背包物品排序\",type:\"pack\",on(e){e.items&&(e.items=this.onSortPack(e.items),this.packList=e.items,e.max_item_count&&e.items.length>e.max_item_count&&(this.onData(`<hic>背包空间不足。<hiy>[<hir>${e.items.length}<hiy>/${e.max_item_count}]`),e.max_item_count=e.items.length)),e.max_item_count&&(this.packMax=e.max_item_count)}}),n.addMonitor({name:\"core-pack-获得物品\",type:\"pack\",on(a){if(a.remove&&a.id){const t=this.packList.find(n=>n.id===a.id),e=t.count,i=a.remove;if(t)if(console.info($.extend({},t)),0>i)t.count=e-i,this.onData(`<nor>你获得了${t.name}${-a.remove}${t.unit}，共${t.count}${t.unit}。`);else if(0<i&&0<e){t.count=e-i;let n=`<nor>你失去了${t.name}${a.remove}${t.unit}`;n+=0<t.count?`，余${t.count}${t.unit}。`:\"。\",this.onData(n)}}if(a.name&&a.id){const n=this.packList.find(n=>n.id===a.id);n?n.count=a.count:(this.packList.push(a),this.onData(`<nor>你获得了${a.name}${a.count}${a.unit}。`))}}}),n.addMonitor({name:\"core-pack-一键精炼装备\",type:\"pack\",on(n){if(n.id&&n.jldesc){const a=n.id,e=this.packList.find(e=>e.id===a);if(e){const i=e.can_refine||0,d=12-i,n=`jinglian ${a} ok`;let o=n;for(let e=1;e<d;e++)o+=`,${n}`;this.onData(`<cyn>你是否想要精炼${e.name}<cyn>？<span class=\"item-commands\"><span cmd=\"${n}\">快捷精炼1次到${i+1}级</span><span cmd=\"${o}\">快捷精炼${d}次到12级</span></span><hir>炼精无法返还，请谨慎操作。`)}}}}),n.addMonitor({name:\"core-pack2-随从背包排序\",type:\"pack2\",on(e){e.items&&(e.items=this.onSortPack(e.items),e.items.length>e.max_item_count&&(e.max_item_count=e.items.length))}}),n.addMonitor({name:\"core-list-仓库排序\",type:\"list\",on(e){e.max_store_count&&(e.stores=this.onSortPack(e.stores))}}),n.addMonitor({name:\"core-pack-装备\",type:\"pack\",on(e){e.eqs&&(this.eqList=e.eqs),0===e.uneq&&\"战斗\"===this.state&&\"on\"===this.setAutoEq&&(this.onData(\"<hic>武器在战斗中被卸。\"),this.cmdAutoEq=`eq ${e.id}`,this.onSend(()=>{\"死亡\"!==this.state&&this.onSend(this.cmdAutoEq)})),0===e.eq&&(this.cmdAutoEq=\"\")}}),n.addMonitor({name:\"core-text-自动装备武器\",type:\"text\",on(e){/你已经装备着了。/.test(e.text)?this.cmdAutoEq=\"\":/你的出招时间还没过。/.test(e.text)&&\"on\"===this.setAutoEq&&this.cmdAutoEq&&this.onSend(1e3,()=>{\"死亡\"!==this.state&&this.onSend(this.cmdAutoEq)})}}),n.addMonitor({name:\"core-skills-技能列表排序\",type:\"skills\",on(e){e.items&&(e.items=this.onSortSkill(e.items),this.skillList=e.items),e.limit&&(this.skillLimit=e.limit),e.pot&&(this.qn=e.pot)}}),n.addMonitor({name:\"core-master-师傅的技能列表排序\",type:\"master\",on(e){e.items&&(e.items=this.onSortSkill(e.items))}}),n.addMonitor({name:\"core-skills-技能更新等级和熟练度\",type:\"skills\",on(n){if(\"number\"==typeof n.exp&&(n.exp=20>n.exp?20:5*~~(n.exp/5)),n.id&&n.level){const{id:o,level:e}=n;this.skillList.find(n=>{if(n.id===o)return n.level=e,!0})}}}),n.addMonitor({name:\"core-skills-学会新的技能\",type:\"skills\",on(e){e.item&&this.onSend(\"cha\")}}),n.addMonitor({name:\"core-popup-弹出技能说明\",type:\"popup\",on(o){const t=/^(.+<nor>)技能说明$/;if(t.test(o.label)&&/checkskill /.test(this.lastSendCommand)){const e=o.label.match(t)[1],i=this.skillList.find(n=>n.name===e);i&&(o.text=o.text.replace(/^<...>.+?<nor>：<nor><br>.+?<br>/,`${e}<br><cyn>技能等级：${i.level}级<br>技能代码：${i.id}</cyn><br>`))}}}),n.addMonitor({name:\"core-state-状态\",type:\"state\",on(n){if(n.state){const t=/^你正副本(.+)$|^你正在进行(.+)副本$/;if(t.test(n.state)){const e=n.state.match(t)[1]||n.state.match(t)[2];n.state=`副本${e}`}n.state=n.state.replace(/你正在/g,\"\"),this.state=n.state}else this.state=\"\";delete n.desc}}),n.addMonitor({name:\"core-fight-战斗状态\",type:\"fight\",on(e){1===e.is_fight?this.state=\"战斗\":0===e.is_fight&&(this.state=\"\")}}),n.addMonitor({name:\"core-die-死亡状态\",type:\"die\",on(e){e.commands?this.state=\"死亡\":e.relive&&(this.state=\"\")}}),n.addMonitor({name:\"core-die-自动复活\",type:\"die\",on(e){e.commands&&(\"fu\"===this.setAutoRelive?this.onSend(\"256,relive locale\"):\"miao\"===this.setAutoRelive&&this.onSend(\"256,relive,go_fuben -auto\"))}}),n.addMonitor({name:\"core-text-取消天师符复活\",type:\"text\",on(e){/你身上没有可以原地复活的道具。/.test(e.text)&&(this.setAutoRelive=\"off\",this.onData(\"<hic>缺少天师符，原地复活已关闭。\"))}}),n.addMonitor({name:\"core-room-房间数据\",type:\"room\",on(e){this.roomName=e.name||this.roomName,this.roomPath=e.path||this.roomPath,this.roomDesc=e.desc||this.roomDesc,this.roomCmds=e.commands||this.roomCmds}}),n.addMonitor({name:\"core-exits-出口数据\",type:\"exits\",on(e){e.items&&(this.cmdGoOut=`go ${Object.keys(e.items)[0]}`)}}),n.addMonitor({name:\"core-jh-江湖副本\",type:\"jh\",on(o){if(\"fb\"===o.t){o.no_cache=!0;const t=o.index,e={}[t];if(e){o.desc+=`<span class=\"item-commands\"><span cmd=\"${`chat 副本攻略第${t}篇之${e}`}\">发送攻略到世界频道</span></span>`}const i=this.onFuBen(t);i&&(o.desc+=`<span class=\"item-commands\"><span cmd=\"${i}\">自动副本</span></span>`)}}}),n.addMonitor({name:\"core-task-任务数据\",type:\"tasks\",on(e){e.items&&e.items.forEach(n=>{if(2===n.state&&(this.onData(`<hiy>${n.title}<hic>已完成。`),this.onSend(`256,${n.id}`)),/每日/.test(n.title)){const t=n.desc.match(/副本：<hik>(.+)\\/20<\\/hik>/);t&&t[1]&&(this.taskFbCount=+t[1])}else if(/师门/.test(n.title)){const t=n.desc.match(/今日完成(.+)\\/2\\d个，共连续完成(.+)个。/);t&&t[1]&&(this.taskSmCount=+t[1]),t&&t[2]&&(this.taskSmTotal=+t[2]);const e=n.desc.match(/你的师门委托你去寻找(.+)，你可以慢慢寻找/);this.taskSmItem=e&&e[1]?e[1]:\"\"}else if(/追捕/.test(n.title)){const t=n.desc.match(/今日完成(.+)\\/2\\d个，共连续完成(.+)个，最高连续完成(.+)个。/);t&&t[1]&&(this.taskZbCount=+t[1]),t&&t[2]&&(this.taskZbTotal=+t[2]),t&&t[3]&&(this.taskZbMax=+t[3]);const e=n.desc.match(/扬州知府委托你追杀逃犯：(.+)，据说最近在(.+)-(.+)出现过，你还有(.+)去寻找他，/);e&&(this.taskZbItem=e[1]?e[1]:\"\",e[2]&&(this.taskZbRoomX=e[2]),e[3]&&(this.taskZbRoomY=e[3]),e[4]&&(this.taskZbTime=e[4]))}else if(/藏宝/.test(n.title)){const t=n.desc.match(/你今天已经挖了(.+)\\/10个藏宝图了/);t&&t[1]&&(this.taskXbCount=+t[1])}else if(/请安/.test(n.title))this.taskQaBool=!/还没有/.test(n.desc);else if(/天道/.test(n.title))this.taskTdBool=!/还没有/.test(n.desc);else if(/襄阳/.test(n.title))this.taskXyBool=!/还没有/.test(n.desc);else if(/寒铁/.test(n.title)){const t=n.desc.match(/本周获取寒铁石一共完成(.+)\\/35个/);t&&t[1]&&(this.taskHtCount=+t[1])}})}}),n.addMonitor({name:\"core-msg-组队跟随\",type:\"msg\",on(e){\"tm\"===e.ch&&e.uid!==this.uid&&\"follower\"===this.setTeamMode&&(/^chat |^es |^pty /.test(e.content)||this.onSend(e.content))}}),n.addMonitor({name:\"core-msg-武林叛徒\",type:\"msg\",on(n){if(\"rumor\"===n.ch&&/<hir>武林败类<him>/.test(n.content)){const a=[\"<hio>\",\"<hiz>\",\"<hiy>\",\"<hic>\",\"<hig>\"],e=n.content.match(/听说(.+?)-<cmd cmd='fly_to -boss \\/quest\\/boss\\/boss6#[\\d]+'>(.+?)<\\/cmd>、(.+?)-<cmd cmd='fly_to -boss \\/quest\\/boss\\/boss5#[\\d]+'>(.+?)<\\/cmd>、(.+?)-<cmd cmd='fly_to -boss \\/quest\\/boss\\/boss4#[\\d]+'>(.+?)<\\/cmd>、(.+?)-<cmd cmd='fly_to -boss \\/quest\\/boss\\/boss3#[\\d]+'>(.+?)<\\/cmd>、(.+?)-<cmd cmd='fly_to -boss \\/quest\\/boss\\/boss2#[\\d]+'>(.+?)<\\/cmd>出现了一些<hir>武林败类<him>，请各位侠仕出手相助。/);this.ptPathList=[];for(let i=1;10>i;i+=2){const d=(i-1)/2,n=e[i],o=e[i+1];if(n&&o){const e=this.getRoomPath(n,o);e?(this.ptPathList.push(e),this.onData(`${a[d]}武林叛徒<hiw> [${n},${o}]`)):(this.ptPathList.push([]),this.onData(`${a[d]}武林叛徒<hiw> [${n},${o}]<hir>[查无此处]`))}}this.onTaskPt()}}}),n.addMonitor({name:\"core-msg-年兽\",type:\"msg\",on(n){if(\"rumor\"===n.ch&&/<hiy>年兽<him>/.test(n.content)){const a=n.content.match(/听说(.+?)-<cmd cmd='fly_to -boss \\/quest\\/activity\\/chunjie\\/npc\\/nianshou_boss6#[\\d]+'>(.+?)<\\/cmd>、(.+?)-<cmd cmd='fly_to -boss \\/quest\\/activity\\/chunjie\\/npc\\/nianshou_boss6#[\\d]+'>(.+?)<\\/cmd>、(.+?)-<cmd cmd='fly_to -boss \\/quest\\/activity\\/chunjie\\/npc\\/nianshou_boss6#[\\d]+'>(.+?)<\\/cmd>、(.+?)-<cmd cmd='fly_to -boss \\/quest\\/activity\\/chunjie\\/npc\\/nianshou_boss6#[\\d]+'>(.+?)<\\/cmd>、(.+?)-<cmd cmd='fly_to -boss \\/quest\\/activity\\/chunjie\\/npc\\/nianshou_boss6#[\\d]+'>(.+?)<\\/cmd>、(.+?)-<cmd cmd='fly_to -boss \\/quest\\/activity\\/chunjie\\/npc\\/nianshou_boss6#[\\d]+'>(.+?)<\\/cmd>出现了一些<hiy>年兽<him>扰民，请各位小心。/),e=[\"<span class=\\\"item-commands\\\">\"];for(let i=1;12>i;i+=2){const d=a[i],n=a[i+1];if(d&&n){const o=this.getRoomPath(d,n);o&&e.push(`<span cmd=\"${o.join(\",\")}\"><hio>年兽</hio>[${d},${n}]</span>`)}}this.onData(e.join(\"\"))}}}),n.addMonitor({name:\"core-msg-领取喜宴\",type:\"msg\",on(e){\"on\"===this.setAutoXiYan&&/婚礼将在一分钟后开始。/.test(e.content)&&/婚庆主持/.test(e.name)&&(this.onData(\"<hic>喜宴领取已开启。\"),this.addMonitor({name:\"auto-xiyan\",type:\"cmds\",isOnce:!0,on(n){const t=n.items.find(e=>/送礼：/.test(e.name));if(t)return this.onSend(`${t.cmd},u,kaixi,d,go_fuben -auto`),this.onData(\"<hic>喜宴领取已完成。\"),!0}}),this.onSend(\"stopstate,jh fam 0 9,u\"))}}),n.addMonitor({name:\"core-msg-门派战\",type:\"msg\",on(o){if(/，对(.+)格杀勿论/.test(o.content)){const a=o.content.match(/，对(.+)格杀勿论/),e={张三丰:\"武当\",玄难:\"少林\",岳不群:\"华山\",灭绝师太:\"峨嵋\",逍遥子:\"逍遥\",洪七公:\"丐帮\"}[o.name],t=[\"武当\",\"少林\",\"华山\",\"峨嵋\",\"逍遥\",\"丐帮\"].find(e=>a[1].includes(e));e&&t&&(this.onData(`<hic>门派战开启，${e}宣战${t}。`),\"武当\"!==e&&\"武当\"!==t||\"on\"!==this.setAutoWD?\"少林\"!==e&&\"少林\"!==t||\"on\"!==this.setAutoSL?\"华山\"!==e&&\"华山\"!==t||\"on\"!==this.setAutoHS?\"峨嵋\"!==e&&\"峨嵋\"!==t||\"on\"!==this.setAutoEM?\"逍遥\"!==e&&\"逍遥\"!==t||\"on\"!==this.setAutoXY?\"丐帮\"!==e&&\"丐帮\"!==t||\"on\"!==this.setAutoGB||this.onSend(\"stopstate\",...h.丐帮.林间小屋):this.onSend(\"stopstate\",...h.逍遥.地下石室):this.onSend(\"stopstate\",...h.峨嵋.清修洞):this.onSend(\"stopstate\",...h.华山.客厅):this.onSend(\"stopstate\",...h.少林.方丈楼):this.onSend(\"stopstate\",...h.武当.金殿))}}}),n.addMonitor({name:\"core-msg-绝世长老\",type:\"msg\",on(a){const t=/何方狂徒，竟敢来(.+)撒野，<cmd cmd='fly_to -boss (.+)'>(.+)<\\/cmd>就是你的葬身之地！/;if(t.test(a.content)){const e=a.content.match(t),d=e[1],n=e[2],o=e[3];if(\"on\"===this.setmainjs&&(\"on\"===this.setAutoWDJS&&d.includes(\"武当\")||\"on\"===this.setAutoSLJS&&d.includes(\"少林\")||\"on\"===this.setAutoHSJS&&d.includes(\"华山\")||\"on\"===this.setAutoEMJS&&d.includes(\"峨嵋\")||\"on\"===this.setAutoXYJS&&d.includes(\"逍遥\")||\"on\"===this.setAutoGBJS&&d.includes(\"丐帮\"))){const t=this.getRoomPath(d,o);let s=!0;if(t){const o=[\"stopstate\"];t.forEach(t=>{o.push(()=>{s&&(this.npcList.find(e=>e.id===n)?(s=!1,this.onData(`<hic>发现${d}绝世长老${a.name}。`)):this.onSend(t))})}),this.onSend(o)}}}}}),n.addMonitor({name:\"core-msg-襄阳\",type:\"msg\",on(e){\"system\"===e.ch&&/蒙古军队将于10分钟后抵达襄阳！/.test(e.content)&&this.onData(\"<span class=\\\"item-commands\\\"><span cmd=\\\"stopstate,jh fam 7 start,baoming,go_fuben -auto\\\">报名守卫襄阳</span>\")}}),n.addMonitor({name:\"core-msg-自定义消息监控\",type:\"msg\",on(o){let t=o.ch;\"system\"!==o.ch&&\"rumor\"!==o.ch||(t=\"sys\"),this.monitorList.forEach(e=>{if(\"on\"===e.open&&\"msg\"===e.type&&e.channel===t){const i=new RegExp(e.speakers);new RegExp(e.keys).test(o.content)&&(\"sys\"===t||i.test(o.name))&&(this.onData(`<hic>[触发监控]<hiy>${e.name}`),this.onSend(e.commands))}})}}),n.addMonitor({name:\"core-text-自定义消息监控\",type:\"text\",on(n){this.monitorList.forEach(t=>{\"on\"===t.open&&\"msg\"===t.type&&\"room\"===t.channel&&new RegExp(t.keys).test(n.text)&&(this.onData(`<hic>[触发监控]<hiy>${t.name}`),this.onSend(t.commands))})}}),n.addMonitor({name:\"core-time-自定义时间监控\",type:\"time\",on(n){this.monitorList.forEach(o=>{const e=new RegExp(`${o.keys}:\\\\d\\\\d`);if(\"on\"===o.open&&\"time\"===o.type&&e.test(n.time)){const e=this.getTimeStamp(),n=o.last;if(n&&6e4>=e-n)return;o.last=e,this.onData(`<hic>[触发监控]<hiy>${o.name}`),this.onSend(o.commands)}})}}),n.addMonitor({name:\"core-status-自定义状态监控\",type:\"status\",on(o){this.monitorList.forEach(t=>{if(\"on\"===t.open&&\"status\"===t.type){const e=new RegExp(t.keys),i=new RegExp(t.targets.replace(\"self\",this.uid));e.test(o.sid)&&i.test(o.id)&&o.action===t.action&&(this.onData(`<hic>[触发监控]<hiy>${t.name}`),this.onSend(t.commands.replace(/\\$id/g,o.id)))}})}}),n.addMonitor({name:\"core-msg-挖宝时古墓\",type:\"msg\",on(a){if(\"rumor\"===a.ch&&/<hiy>听说<hir>(.+)<hiy>在<hic>(.+)<hiy>的<hig>(.+)<hiy>挖宝时，/.test(a.content)){this.onData(\"<hic>[发现古墓]\");const t=a.content.match(/<hiy>听说<hir>(.+)<hiy>在<hic>(.+)<hiy>的<hig>(.+)<hiy>挖宝时，/),d=(t[1],t[2]),i=t[3],e=this.getRoomPath(d,i),n=[e];for(let e=0;0<=e;){e++;let o=this.getRoomPath(d,i+e);o?n.push(o):e=-1}if(1===n.length)this.onData(`<span class=\"item-commands\"><span cmd=\"stopstate,${e.join(\",\")}\">${d}${i}</span>`);else{let o=\"<span class=\\\"item-commands\\\">\";for(let t=1;t<n.length;t++)o+=`<span cmd=\"stopstate,${n[t].join(\",\")}\">${d}${i}[${t}]</span>`;this.onData(o)}}}}),n.addMonitor({name:\"core-status-自身减益状态时间记录\",type:\"status\",on(n){if(\"add\"===n.action&&n.id===this.uid&&\"true\"===n.downside){const t=this.getTimeStamp()+n.duration;t>this.debuffTime&&(this.debuffTime=t)}}}),n.addMonitor({name:\"core-exits-出口快捷键\",type:\"exits\",on(n){n.items&&($.each(this.keypress,e=>this.keypress[e]=\"\"),Object.keys(n.items).forEach(t=>{const e={up:\"E\",enter:\"E\",northeast:\"E\",down:\"C\",southeast:\"C\",out:\"Z\",southwest:\"Z\",northwest:\"Q\",north:\"W\",northup:\"W\",northdown:\"W\",east:\"D\",eastup:\"D\",eastdown:\"D\",south:\"S\",southup:\"S\",southdown:\"S\",west:\"A\",westup:\"A\",westdown:\"A\"}[t];n.items[t]=`${n.items[t]}[${e}]`,this.keypress[e]=`go ${t}`}))}}),n.addMonitor({name:\"core-pending-昏迷\",type:\"pending\",on(e){1===e.is_hm&&\"on\"===this.setKillPend&&this.onSend(`stopstate,kill ${e.id}`)}}),n.addMonitor({name:\"core-text-襄阳分数\",type:\"text\",on(n){const t=/你奋勇杀掉.+，获得军功奖励.+([\\d]+)\\/500/;if(t.test(n.text)){const e=n.text.match(t);this.taskXyCount=e[1]}const o=/<hig>你本周获得杀敌军功：([\\d]+)点，总军功：.+点。/;if(o.test(n.text)){const t=n.text.match(o);this.taskXyCount=t[1]}}}),n.addMonitor({name:\"core-dispfm-冷却时间\",type:\"dispfm\",on(n){if(n.distime){const t=this.getTimeStamp(),e=3e4<n.distime?3e4:n.distime;t+e>this.skillTime&&(this.skillTime=t+e)}}}),n.addMonitor({name:\"core-cmds-宝石一键拆卸\",type:\"cmds\",on(n){if(n.items&&n.items[0].cmd.includes(\"uninset\")){const o=[\"<span class=\\\"item-commands\\\">\"],e=[\"stopstate\"];n.items.forEach(n=>{o.push(`<span cmd=\"${n.cmd}\">${n.name}</span>`),e.push(`${n.cmd} -yes`)}),this.onSend(256,()=>{this.onData(`${o.join(\"\")}<span cmd=\"${e.join(\",\")}\">全部拆卸[自动消耗黄金]</span>`)})}}}),n.addMonitor({name:\"core-perform-自动出招\",type:\"perform\",on(){this.refreshPerformList()}}),n.addMonitor({name:\"core-dispfm-自动出招\",type:\"dispfm\",on(n){const t=this.getTimeStamp();this.performList.forEach(e=>{t+n.rtime>e.time&&(e.time=t+n.rtime),e.id===n.id&&(e.time=t+n.distime)})}}),n.addMonitor({name:\"core-fight-自动出招\",type:\"fight\",on(e){if(\"on\"===this.setAutoPerform)if(1===e.is_fight){this.refreshPerformList();let n,t=100;n=()=>{if(\"战斗\"!==this.state)return;this.performList.sort((n,t)=>n.order-t.order),console.info(this.performList);const e=this.getTimeStamp(),o=this.performList.find(n=>n.time<e);o?(o.order=++t,this.onSend(`perform ${o.id}`,()=>n())):this.onSend(256,()=>n())},this.onSend(\"setting auto_pfm 0\"),this.onData(\"<hig>[脚本自动出招]\"),n()}else 0===e.is_fight&&this.onSend(\"setting auto_pfm 1\")}});const u={miTanId:\"\",isBusy:!1};t(\"机器人定时襄阳巡逻\",\"time\",async function(n){if(this.isRobot&&(0===n.m||20===n.m||40===n.m)&&0===n.s&&!(this.getTimeStamp()<parseInt(this.xyStartTime)+24e5)){u.isBusy=!0;const t=[\"look\",\"stopstate\",\"chat *即将巡察襄阳城！\",\"jh fam 7 start\",\"e\",\"e\",\"e\",\"e\",\"s\",\"s\",\"s\",\"s\",\"w\",\"w\",\"w\",\"w\",\"s\",\"jh fam 7 start\",\"s\",\"s\",\"s\",\"s\",\"w\",\"w\",\"w\",\"w\",\"n\",\"n\",\"n\",\"n\",\"w\",\"jh fam 7 start\",\"w\",\"w\",\"w\",\"w\",\"n\",\"n\",\"n\",\"n\",\"e\",\"e\",\"e\",\"e\",\"n\",\"jh fam 7 start\",\"n\",\"n\",\"n\",\"n\",\"e\",\"e\",\"e\",\"e\",\"s\",\"s\",\"s\",\"s\",\"e\",\"jh fam 0 1\",\"w\",\"w\",\"go_fuben -auto\",\"chat *襄阳城巡察完毕！\"];for(let n=0;n<t.length;n++){const e=t[n];if(u.miTanId)break;this.onSend(e),await d(1e3);const o=this.npcList.find(e=>e.name.includes(\"密探\"));o&&(u.miTanId=o.id,this.onSend(\"chat *发现了蒙古密探！\",\"kill \"+o.id))}u.miTanId=\"\",u.isBusy=!1}}),t(\"机器人获得蒙古密函\",\"text\",function(e){this.isRobot&&/<nor>你获得了<hic>密函/.test(e.text)&&this.onSend(\"chat *击杀了蒙古密探！\",\"jh fam 0 1\",\"w\",\"w\",\"go_fuben -auto\",\"chat *襄阳城巡察完毕！\")}),t(\"机器人保存襄阳记录\",\"msg\",function(e){this.isRobot&&(\"system\"===e.ch||\"rumor\"===e.ch)&&(/击退了来犯的蒙古大军|襄阳城失守，大宋军队惨败！/.test(e.content)&&(this.xyOverTime=this.getTimeStamp(),this.xyOverLog=`${this.getTimeString()} ${e.content}`,this.onUpload()),/蒙古军队将于10分钟后抵达襄阳！/.test(e.content)&&(this.xyStartTime=this.getTimeStamp(),this.xyStartLog=`${this.getTimeString()} ${e.content}`,this.onUpload()))}),t(\"机器人保存门派记录\",\"msg\",function(o){if(this.isRobot&&/，对(.+)格杀勿论/.test(o.content)){const a=o.content.match(/，对(.+)格杀勿论/),e={张三丰:\"武当\",玄难:\"少林\",岳不群:\"华山\",灭绝师太:\"峨嵋\",逍遥子:\"逍遥\",洪七公:\"丐帮\"}[o.name],i=[\"武当\",\"少林\",\"华山\",\"峨嵋\",\"逍遥\",\"丐帮\"].find(e=>a[1].includes(e));if(e&&i){this.onSend(`chat ${this.getTimeString()} ${e} VS ${i}`);const n=`${this.getTimeString()} ${e} VS ${i}`;this.mpzList.push(n),this.mpzList=this.mpzList.splice(-3)}}}),t(\"机器人回复玩家消息\",\"msg\",async function(n){if(this.isRobot&&\"chat\"===n.ch&&!u.isBusy){if(/门派战/.test(n.content)){u.isBusy=!0;for(let n=0;n<this.mpzList.length;n++){const e=this.mpzList[n];await d(2e3),this.onSend(\"chat \"+e)}await d(3e4),u.isBusy=!1}if(/开襄阳/.test(n.content)){const e=this.getTimeStamp();e<parseInt(this.xyOverTime)+72e5?this.onSend(`chat ${this.xyOverLog}`):e<parseInt(this.xyStartTime)+24e5?this.onSend(`chat ${this.xyStartLog}`):this.onSend(\"stopstate\",\"jh fam 7 start\",\"give -yes\",\"pack\",()=>{const e=this.packList.find(e=>e.name.includes(\"密函\"));e&&this.onSend(`chat *背包中还有${e.count}份蒙古军密函。`)})}}}),function(){GameClient.Send=e=>this.onSend(e),GameClient.OnData=e=>this.onData(e),GameClient.OnMessage=e=>this.onData(e),ReceiveMessage=e=>this.onData(e),onerror=()=>this.onData(\"<hir>Warning: An error occurred while running.\"),orderItems=e=>e,clearInterval(Process.timer),this.version=\"3.8.2\",$(\"head\").append(`<link href=\"http://8.142.77.234/index.min.css?${this.version}\" rel=\"stylesheet\">`),this.isDev?(this.onSend(`setting trigger_url http://8.142.77.234/index.min.js?${this.version}`),this.onData(`<him>【脚本】JHMUD2021 TEST ${this.version}`)):(this.onSend(`setting trigger_url http://8.142.77.234/index.min.js?${this.version}`),this.onData(`<him>【脚本】JHMUD2021 ${this.version}`),console.info=()=>{});const n=[];n.push(\"<max>【优化】2025年4月23日：优化脚本叫杀尸体的问题\"),n.push(\"<hiy>【更新】2025年4月23日：添加门派长老总开关，详情点击快捷按钮查看\"),n.push(\"<ord>【更新】2025年7月6日：添加贩卖绿蓝橙装备\"),n.push(\"<hig>【群聊】脚本错误、咨询等，请联系苏小妹。\"),n.push(\"<hig>【链接】http://8.142.77.234/index.min.js?update\"),this.onData(n.join(\"\\n\")),this.onSend(\"setting keep_msg 1\",()=>$(\"[command=showtool]\").click(),()=>$(\"[command=score]\").click(),()=>$(\"[command=skills]\").click(),()=>$(\"[command=tasks]\").click(),()=>$(\"[command=jh]\").click(),()=>$(\"[command=jh]\").click(),\"pack\",\"look\",()=>$(\"[command=showcombat]\").click());const t=$(\".state-bar .title\").text().replace(/正在学习中.../,\"\");this.onData({type:\"state\",state:t}),this.onDownload(),$(document).keypress(n=>{const t={32:()=>$(\".dialog-confirm\").is(\":hidden\")||$(\".btn-ok\").click(),65:()=>this.keypress.A&&this.onSend(this.keypress.A),83:()=>this.keypress.S&&this.onSend(this.keypress.S),68:()=>this.keypress.D&&this.onSend(this.keypress.D),69:()=>this.keypress.E&&this.onSend(this.keypress.E),87:()=>this.keypress.W&&this.onSend(this.keypress.W),67:()=>this.keypress.C&&this.onSend(this.keypress.C),90:()=>this.keypress.Z&&this.onSend(this.keypress.Z),81:()=>this.keypress.Q&&this.onSend(this.keypress.Q),75:()=>this.onSend(\"$killall\")}[n.which];t&&t()}),this.refreshPerformList(),window.plugins=this}.bind(n)()}()}])},5e3);","isHtml":false,"htmlPath":"","htmlFiles":[],"more":{"windows":{"label":"lundao","title":"江湖论道","url":"http://59.153.165.226/","userAgent":"Mozilla/5.0 (Linux; Android 14; Pixel 6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Mobile Safari/537.36","width":412,"height":915,"theme":null,"resizable":true,"fullscreen":false,"maximized":false,"minWidth":400,"minHeight":300,"maxWidth":1920,"maxHeight":1080,"decorations":true,"transparent":false,"titleBarStyle":"Visible","visible":true,"focus":true,"closable":true,"minimizable":true,"maximizable":true,"alwaysOnTop":false,"alwaysOnBottom":false,"center":false,"skipTaskbar":false,"tabbingIdentifier":null,"parent":null,"dragDropEnabled":true,"browserExtensionsEnabled":false,"devtools":true,"contentProtected":false,"hiddenTitle":false,"incognito":false,"proxyUrl":null,"useHttpsScheme":false,"zoomHotkeysEnabled":false,"acceptFirstMouse":false,"create":false}},"phone":{"safeArea":{"top":0,"bottom":0,"left":0,"right":0},"header":{"show":false,"title":"","backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","loading":false,"toolBar":false,"toolBarBackgroundColor":"","toolBarColor":"","toolBarFontSize":16,"toolBarFontWeight":"bold"},"siderMenu":{"show":false,"width":0,"backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","title":"","titleColor":"","titleFontSize":16,"titleFontWeight":"bold"},"tabBar":{"show":false,"backgroundColor":"","color":"","activeColor":"","fontSize":16,"fontWeight":"bold","tabBarItem":[]},"webview":{"userAgent":"","javaScriptEnabled":true,"domStorageEnabled":true,"allowFileAccess":true,"loadWithOverviewMode":true,"setSupportZoom":true,"clearCache":true}},"ios":{"name":"lundao","showName":"江湖论道","version":"0.0.1","webUrl":"http://59.153.165.226/","id":"com.lundao.app.ios","icon":"./app-icon.png","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":false,"debug":false},"android":{"name":"lundao","showName":"江湖论道","version":"0.0.1","webUrl":"http://59.153.165.226/","id":"com.lundao.app.android","icon":"./app-icon.png","input":"./app-icon.png","output":"./res","rounded":true,"copyTo":"./app/src/main/res","androidResDir":"./app/src/main/res","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":false,"debug":false},"desktop":{"name":"lundao","showName":"江湖论道","version":"0.0.1","id":"com.lundao.app.desktop","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途，否则后果自负）","webUrl":"http://59.153.165.226/","iconPath":"../app-icon.png","inputPath":"../app-icon.png","tempPath":"./processed-image.png","icnsPath":"../src-tauri/icons/icon.icns","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途，否则后果自负）","isHtml":false,"single":true,"state":true,"injectJq":false,"tauriApi":false,"buildMethod":"local","debug":false}}